<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
<link as="style" href="https://fonts.googleapis.com/css2?display=swap&family=Lexend%3Awght%40400%3B500%3B600%3B700%3B800%3B900&family=Noto+Sans%3Awght%40400%3B500%3B700%3B900" onload="this.rel='stylesheet'" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons&display=block" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined&display=block" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=block" rel="stylesheet"/>
<title>FakeBreak, GerÃ§ek mi Fake mi?</title>
<link href="data:image/x-icon;base64," rel="icon" type="image/x-icon"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<style>
.material-icons, .material-icons-outlined, .material-symbols-outlined {
Â  /* Ä°konlarÄ±n doÄŸru hizalanmasÄ± ve gÃ¶rÃ¼ntÃ¼lenmesi iÃ§in temel stiller */
Â  display: inline-block;
Â  font-style: normal;
Â  font-weight: normal; /* Ä°kon fontlarÄ± genellikle normal aÄŸÄ±rlÄ±kta tanÄ±mlanÄ±r */
Â  line-height: 1; /* Ä°konun satÄ±r yÃ¼ksekliÄŸini kendine gÃ¶re ayarlamasÄ± iÃ§in */
Â  letter-spacing: normal;
Â  text-transform: none;
Â  white-space: nowrap;
Â  word-wrap: normal;
Â  direction: ltr;
Â  -webkit-font-smoothing: antialiased;
Â  -moz-osx-font-smoothing: grayscale;
Â  font-feature-settings: 'liga'; /* Ligature Ã¶zelliÄŸini etkinleÅŸtirir */
Â  vertical-align: middle; /* Dikey hizalama */
}

.material-icons {
Â  font-family: 'Material Icons';
Â  font-size: 28px; /* Ã–nceki tanÄ±mÄ±nÄ±zdan */
}

.material-icons-outlined {
Â  font-family: 'Material Icons Outlined';
Â  font-size: 28px; /* Ã–nceki tanÄ±mÄ±nÄ±zdan */
}

.material-symbols-outlined {
Â  font-family: 'Material Symbols Outlined';
Â  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24; /* Ã–nceki tanÄ±mÄ±nÄ±zdan */
Â  font-size: 24px; /* Ã–nceki tanÄ±mÄ±nÄ±zdan, Tailwind ile Ã¼zerine yazÄ±labilir */
}

.btn-primary { background-color: #5667F8; color: white; }
.btn-primary:hover { background-color: #4C5DF8; }
.btn-secondary { background-color: #E5E7EB; color: #1F2937; }
.btn-secondary:hover { background-color: #D1D5DB; }
.lexend-font { font-family: 'Lexend', "Noto Sans", sans-serif; }
.card-gradient { background-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.7) 60%, rgba(0, 0, 0, 0.9) 100%); }
.primary-color-text { color: #5667F8; }
.primary-color-bg { background-color: #5667F8; }
.news-button-disabled { opacity: 0.6; pointer-events: none; }
.correct-feedback { background-color: #EBF9F0; border-left: 4px solid #34D399; }
.incorrect-feedback { background-color: #FEE2E2; border-left: 4px solid #F87171; }
.status-icon-correct { color: #34D399; }
.status-icon-incorrect { color: #F87171; }
.timeup-icon { color: #F59E0B; }

#appRoot { overflow-y: hidden; }
body.loading #appRoot > .main-screen-view { opacity: 0; transform: scale(0.98); transition: none !important; }
.main-screen-view { opacity: 1; transform: translateY(0) scale(1); transition: opacity 0.4s ease-out, transform 0.4s ease-out; }
.main-screen-view.hidden { opacity: 0 !important; transform: scale(0.98) !important; pointer-events: none; display: none !important; }

.nav-item-active span.nav-icon { color: #5667F8; transform: scale(1.1); }
.nav-item-active span.nav-text { color: #5667F8; font-weight: 600; }
.btn-animated { transition: transform 0.1s ease-in-out, background-color 0.1s, opacity 0.2s ease-in-out; }
.btn-animated:active:not(.disabled) { transform: scale(0.95); }
.feedback-content-appear { animation: scaleUpSpring 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
@keyframes scaleUpSpring { from { opacity: 0; transform: scale(0.7); } to { opacity: 1; transform: scale(1); } }

.editor-quote-appear { animation: fadeInRise 0.4s ease-out 0.1s forwards; opacity: 0; transform: translateY(10px); }
@keyframes fadeInRise { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }


.timer-pulse { animation: pulseTimerWarn 1s infinite ease-in-out; }
@keyframes pulseTimerWarn { 0%, 100% { transform: scale(1); color: inherit; } 50% { transform: scale(1.15); color: #ef4444; } }

.timer-box-pulse { animation: pulseTimerBoxWarn 1s infinite ease-in-out; }
@keyframes pulseTimerBoxWarn {
Â  0%, 100% { background-color: #E0F2F7; /* Normal background of timer box */ }
Â  50% { background-color: #FEE2E2; /* red-100 for pulse */ }
}


#newsCardContainer {
Â  position: relative;
Â  width: 100%;
Â  max-width: calc(100% - 2rem); /* Tailwind: sm:max-w-md */
Â  margin-left: auto;
Â  margin-right: auto;
Â  aspect-ratio: 3 / 4;
Â  min-height: 380px; /* Tailwind: sm:min-height: 450px */
Â  overflow: visible;Â Â 
}
#newsCard { position: absolute; top: 0; left: 0; right: 0; bottom: 0; cursor: grab; user-select: none; touch-action: pan-y; transition: transform 0.3s ease-out; will-change: transform, opacity; background-color: #f3f4f6; border-radius: 1rem; overflow:hidden; box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1), 0 8px 10px -6px rgba(0,0,0,0.1); }
#newsCard.swiping { cursor: grabbing; transition: none; }
.swipe-decision-indicator { position: absolute; top: 30px; padding: 0.5rem 1rem; border-radius: 0.5rem; font-size: 1.25rem; font-weight: 700; color: white; border: 2px solid rgba(255,255,255,0.8); opacity: 0; transform: rotate(-15deg) scale(0.8); transition: opacity 0.3s ease-out, transform 0.3s ease-out; z-index: 10; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
.swipe-decision-indicator.real-indicator { background-color: rgba(5, 150, 105, 0.9); left: 30px; transform: rotate(-25deg) scale(0.8); }
.swipe-decision-indicator.fake-indicator { background-color: rgba(220, 38, 38, 0.9); right: 30px; transform: rotate(25deg) scale(0.8); }
.swipe-decision-indicator.visible { opacity: 1; transform: rotate(-15deg) scale(1.1); }
.swipe-decision-indicator.fake-indicator.visible { transform: rotate(15deg) scale(1.1); }
.editor-busy-qmark-wrapper {
Â  position: relative;
Â  overflow: visible;
Â  z-index: 200;
}
@keyframes cardFlyOutLeftAnim {
Â  100% {
Â  Â  transform: translateX(100%) rotate(-25deg) scale(0.7);
Â  Â  opacity: 0;
Â  }
}
@keyframes cardFlyOutRightAnim {
Â  0% {
Â  Â  transform: translateX(0) rotate(0deg) scale(1);
Â  Â  opacity: 1;
Â  }
Â  100% {
Â  Â  transform: translateX(100%) rotate(25deg) scale(0.7);
Â  Â  opacity: 0;
Â  }
}#newsCard.fly-out-left { animation: cardFlyOutLeftAnim 0.4s cubic-bezier(0.6, -0.28, 0.735, 0.045) forwards; }
#newsCard.fly-out-right { animation: cardFlyOutRightAnim 0.4s cubic-bezier(0.6, -0.28, 0.735, 0.045) forwards; }

@keyframes cardEnterAnim { to { transform: translateY(0) scale(1) rotateX(0deg); opacity: 1; } }
#newsCard.enter-anim { visibility: hidden; opacity: 0; transform: translateY(60px) scale(0.95) rotateX(-15deg); }
#newsCard.enter-anim.active { visibility: visible; animation: cardEnterAnim 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; }

.modal-backdrop { background-color: rgba(30, 41, 59, 0.7); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }

/* SPONSORLU KART STÄ°LLERÄ° */
.sponsored-news-card { border: 3px solid #FFBF00; }
.sponsored-badge { display: none; background-color: rgba(255, 191, 0, 0.95); color: #1F2937; padding: 3px 8px; border-radius: 0.375rem; font-size: 0.6rem; font-weight: 700; text-transform: uppercase; align-self: flex-start; line-height: 1;}
.sponsored-news-card .sponsored-badge { display: inline-block; }
html, body {
Â  height: 100%;
Â  overflow-x: hidden;
Â  margin: 0;
Â  padding: 0;
}
/* Sadece yÃ¼klenme sÄ±rasÄ±nda scroll'u engelle */
body.loading {
Â  overflow: hidden;
}
/* Ana Buton */
#askEditorBtn {
Â  display: flex;
Â  flex-direction: row;
Â  align-items: center;
Â  justify-content: flex-start;
Â  gap: 6px;
Â  padding: 0.25rem 0.5rem 0.25rem 0.25rem;
Â  border-radius: 9999px;
Â  background: linear-gradient(to bottom right, #F9FAFB, #F3F4F6);
Â  height: 44px;
Â  width: auto;
Â  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
Â  cursor: pointer;
Â  border: none;
Â  position: relative;
}

/* Ä°kon */
#askEditorBtnIcon {
Â  width: 30px;
Â  height: 30px;
Â  border-radius: 50%;
Â  object-fit: cover;
Â  display: block;
Â  margin: 0;
}

/* Hover efekti */
#askEditorBtn:hover:not(.disabled) {
Â  background: linear-gradient(to bottom right, #E5E7EB, #D1D5DB);
Â  transform: translateY(-1px);
Â  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
}

/* Disabled */
#askEditorBtn.disabled {
Â  opacity: 0.6;
Â  cursor: default;
}
#askEditorBtn.disabled:hover {
Â  background: linear-gradient(to bottom right, #F9FAFB, #F3F4F6);
Â  transform: none;
Â  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
}

/* Metin */
#askEditorBtnText {
Â  font-size: 0.875rem; /* 14px */
Â  font-weight: 600; /* biraz daha yumuÅŸak */
Â  line-height: 1;
Â  color: #374151;
Â  text-align: left;
Â  padding: 0;
Â  margin: 0;
Â  white-space: nowrap;
Â  font-family: 'Noto Sans', sans-serif;
Â  display: flex;
Â  align-items: center;
Â  gap: 2px;
Â  overflow: hidden;
Â  text-overflow: ellipsis;
}

/* MeÅŸgul Durumu */
#askEditorBtn.busy-state {
Â  height: 38px;
Â  padding: 0.2rem 0.5rem !important;
Â  gap: 4px !important;
Â  min-width: 120px;
Â  max-width: 160px;
}
#askEditorBtn.busy-state #askEditorBtnIcon {
Â  width: 24px !important;
Â  height: 24px !important;
}
#askEditorBtn.busy-state #askEditorBtnText {
Â  font-size: 0.75rem !important;
}

/* Soru Ä°ÅŸareti */
.editor-busy-qmark {
Â  margin-left: 4px;
Â  font-size: 0.75rem;
Â  cursor: pointer;
Â  display: inline-block;
Â  opacity: 0.85;
Â  transition: color 0.2s ease, opacity 0.2s ease;
}

/* Popup */
#editorBusyPopup {
Â  position: absolute;
Â  top: calc(100% - 4px);
Â  left: 50%;
Â  transform: translateX(-50%);
Â  background-color: #1F2937;
Â  color: #F9FAFB;
Â  padding: 0.3rem 0.5rem;
Â  border-radius: 0.5rem;
Â  font-size: 0.65rem;
Â  white-space: nowrap;
Â  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
Â  display: none;
Â  z-index: 100;
Â  font-family: 'Noto Sans', sans-serif;
}


/* ZamanlayÄ±cÄ± Kutusu */
#timerSecondsBox {
Â  height: 34px;
Â  width: 34px;
Â  display: flex;
Â  align-items: center;
Â  justify-content: center;
Â  border-radius: 0.75rem;
Â  background-color: #F1F5F9;
Â  color: #1E293B;
Â  box-shadow: inset 0 1px 2px rgba(0,0,0,0.05), 0 1px 2px rgba(0,0,0,0.06);
Â  font-family: 'Lexend', sans-serif;
}

/* Zaman yazÄ±sÄ± */
#timerSeconds {
Â  font-size: 1rem;
Â  font-weight: 700;
Â  line-height: 1;
Â  font-family: 'Lexend', sans-serif;
}
@keyframes modernAlertPulse {
Â  0%, 100% {
Â  Â  transform: scale(1);
Â  Â  background: linear-gradient(to bottom right, #FFFDF5, #FFEFC2); /* soft pastel sarÄ± */
Â  Â  box-shadow: 0 0 0px rgba(255, 193, 7, 0);
Â  Â  border: 1px solid #FFF6DA;
Â  }
Â  50% {
Â  Â  transform: scale(1.06);
Â  Â  background: linear-gradient(to bottom right, #FFEB3B, #FFD600); /* doygun sarÄ± */
Â  Â  box-shadow: 0 0 14px 3px rgba(255, 193, 7, 0.5); /* yumuÅŸak ama gÃ¶z alÄ±cÄ± glow */
Â  Â  border: 2px solid #FFC107;
Â  }
}

.ask-editor-inviting:not(.disabled) {
Â  animation: modernAlertPulse 1.4s ease-in-out infinite;
}

/* EditÃ¶r Ä°pucu ModalÄ± Stilleri */
#editorHintModal { background-color: rgba(30, 41, 59, 0.85); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); }
.editor-hint-content { background-color: #1F2937; color: #F3F4F6; border-radius: 0.75rem; padding: 1.5rem; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.2), 0 10px 10px -5px rgba(0,0,0,0.1); max-width: 360px; width: calc(100% - 2rem); }
.editor-icon-container { width: 72px; height: 72px; border-radius: 0.75rem; background-color: #4B5563; display: flex; align-items: center; justify-content: center; overflow: hidden; border: 3px solid #D1D5DB; margin-bottom: 1rem; }
.editor-icon-container img { width: 100%; height: 100%; object-fit: cover; border-radius: 0.5rem; }
.editor-name { font-size: 1.25rem; font-weight: 700; color: #E5E7EB; margin-bottom: 0.5rem; }
.editor-quote { font-size: 0.95rem; line-height: 1.6; color: #D1D5DB; min-height: 60px; }
#closeEditorHintBtn { background-color: #374151; color: #D1D5DB; border-radius: 9999px; padding: 0.5rem; }
#closeEditorHintBtn:hover { background-color: #4B5563; }
</style>
</head>
<body class="bg-slate-100 lexend-font loading">

<div id="unsupportedDeviceOverlay" style="display: none; position: fixed; inset: 0; background-color: rgba(30, 41, 59, 0.95); color: white; flex-direction: column; align-items: center; justify-content: center; text-align: center; z-index: 9999; font-family: 'Lexend', sans-serif; padding: 20px;">
Â  Â  <span class="material-icons" style="font-size: 64px; margin-bottom: 20px;">stay_primary_portrait</span>
Â  Â  <h2 style="font-size: 24px; font-weight: bold; margin-bottom: -8px;">Yok artÄ±k, masaÃ¼stÃ¼nden mi girdin?!ğŸ˜</h2>
Â  <p style="font-size: 18px;">Bu oyun koca koca ekranlara deÄŸil, minnoÅŸ mobil cihazlara gÃ¶re yapÄ±ldÄ±!</p>
</div>

<div id="appRoot" class="relative flex size-full flex-col group/design-root overflow-x-hidden">

<div id="homeScreen" class="main-screen-view flex flex-col h-full">
<header id="homeHeader" class="bg-white shadow-md sticky top-0 z-20">
<div class="container mx-auto px-4 py-3 flex items-center justify-between">
Â  <div class="w-7 h-7 flex justify-start items-center">
Â  Â  <img src="https://i.ibb.co/hRJ4WqKc/Group-8695.png" alt="FakeBreak Logo" class="max-w-full max-h-full object-contain">
Â  </div>
Â  <h1 class="text-xl font-bold text-slate-800 text-center flex-1">FakeBreak</h1>
Â  <div class="w-10 flex justify-end items-center">
Â  Â  <button id="aboutBtn" class="flex items-center justify-center rounded-full h-10 w-10 text-slate-600 hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-[#5667F8] focus:ring-opacity-50 btn-animated">
Â  Â  Â  <span class="material-icons">info_outline</span>
Â  Â  </button>
Â  </div>
</div>
</header>
<main id="homeMain" class="flex-grow container mx-auto px-6 py-8 text-center overflow-y-auto">
<div class="max-w-md mx-auto">
<img alt="FakeBreak Uygulama Ä°konu" class="w-24 h-24 mx-auto mb-6 rounded-2xl shadow-xl" src="https://lh3.googleusercontent.com/aida-public/AB6AXuA-fyUmZiKE_nHNvrPBkaFU8b7xUACLQqHF6tcg8JvnK5Q6c6jPl3YmzTHiKo_1obIExV7JX4I7-RwqTrwTlDjr3jOk6evMGA_LsZZJqffZTDzErZ_HID38KBy94n4llusld-zy1HQGA6Vh60LEgx5n42La1umYxi6ix0kaC2sMngn_puvstBZscr-hOff8pSDIQZ6mr68JnYKwqbxfEF-BKh-Ra7riGUwcTQ9ACW7YYGk29y9OHCMUBDyMu4TRx8h8D9O5pafdDLfV"/>
<h2 class="text-3xl sm:text-4xl font-bold text-slate-800 mb-3">GerÃ§ek Bir GÃ¼ndem Kurdu musun?</h2>
<p class="text-lg sm:text-xl text-slate-600 mb-10">Ã–yleyse hodri meydan! "Bu kadar da olmaz!" dediÄŸin anlar olacak, eminiz. Ama acaba hangisi gerÃ§ek, hangisi aldatmaca?</p>
<div class="space-y-4">
<button id="playNowBtn" class="btn-primary btn-animated w-full flex items-center justify-center rounded-xl h-14 px-6 text-lg font-semibold shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#5667F8] transition-all duration-150">
<span class="material-icons mr-2 nav-icon">play_arrow</span>Hemen Oyna
</button>
<button id="leaderboardBtnHome" class="btn-secondary btn-animated w-full flex items-center justify-center rounded-xl h-14 px-6 text-lg font-semibold shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-400 transition-all duration-150">
<span class="material-icons-outlined mr-2 nav-icon">leaderboard</span>SkorlarÄ± GÃ¶r
</button>
<button id="howToPlayBtn" class="btn-secondary btn-animated w-full flex items-center justify-center rounded-xl h-14 px-6 text-lg font-semibold shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-400 transition-all duration-150">
<span class="material-icons-outlined mr-2 nav-icon">help_outline</span>NasÄ±l OynanÄ±r?
</button>
</div>
</div>
</main>
<footer id="homeFooter" class="bg-white border-t border-slate-200 sticky bottom-0 z-20 shadow-top">
<nav class="container mx-auto px-4 h-16 flex justify-around items-center">
<a id="homeNavHome" href="#" class="flex-1 flex flex-col items-center justify-center text-slate-500 hover:text-[#5667F8] hover:bg-slate-100 transition-all duration-150 p-2 rounded-lg nav-link">
<span class="material-icons-outlined nav-icon">home</span><span class="text-xs font-medium nav-text">Ana Sayfa</span>
</a>
<a id="homeNavScores" href="#" class="flex-1 flex flex-col items-center justify-center text-slate-500 hover:text-[#5667F8] hover:bg-slate-100 transition-all duration-150 p-2 rounded-lg nav-link">
<span class="material-icons-outlined nav-icon">bar_chart</span><span class="text-xs font-medium nav-text">Skorlar</span>
</a>
<a id="homeNavProfile" href="#" class="flex-1 flex flex-col items-center justify-center text-slate-500 hover:text-[#5667F8] hover:bg-slate-100 transition-all duration-150 p-2 rounded-lg nav-link">
<span class="material-icons-outlined nav-icon">person_outline</span><span class="text-xs font-medium nav-text">Profil</span>
</a>
</nav>
</footer>
</div>

<div id="gameScreen" class="main-screen-view hidden flex-col h-full">
<div class="relative flex size-full flex-col bg-slate-50 group/design-root overflow-x-hidden lexend-font">
<header class="sticky top-0 z-20 bg-white shadow-md">
<div class="flex items-center p-4 pb-3 justify-between">
Â  <button id="closeGameBtn" class="text-gray-700 flex size-10 shrink-0 items-center justify-center rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#5667F8] btn-animated transition-colors duration-150">
Â  Â  <span class="material-icons-outlined">close</span>
Â  </button>
Â  <h1 class="text-gray-900 text-xl font-semibold leading-tight tracking-tight text-center">GerÃ§ek mi Sahte mi?</h1>
Â  <div class="size-10"></div>
</div>
<div class="px-4 pb-3">
<div class="flex items-center justify-between mb-1.5">
<p class="text-gray-700 text-sm font-medium">Soru <span id="currentQuestionDisplay" class="font-bold text-gray-900">1</span>/<span id="totalQuestionsDisplay">7</span></p>
<div class="flex items-center gap-3">
<p class="text-gray-700 text-sm font-medium">Skor: <span id="scoreDisplay" class="font-bold text-gray-900">0</span></p>
<p class="text-gray-700 text-sm font-medium">Seri: <span id="streakCounter" class="font-bold text-gray-900">0</span> ğŸ”¥</p>
</div>
</div>
<div class="h-3 rounded-full bg-gray-300">
<div id="progressBar" class="h-3 rounded-full primary-color-bg transition-all duration-300 ease-out" style="width: 0%;"></div>
</div>
</div>
</header>
Â  Â  Â  Â  <main class="flex-1 overflow-y-auto p-4 flex flex-col items-center justify-start space-y-3 sm:space-y-4 overflow-x-hidden">Â 
<div class="flex justify-center items-center gap-12 my-1,5">
Â  <div class="flex flex-col items-center">
Â  Â  <div id="timerSecondsBox">
Â  Â  Â  <p id="timerSeconds">15</p>
Â  Â  </div>
Â  Â  <p class="text-gray-500 text-[14px] mt-1 font-medium">Kalan SÃ¼re</p>
Â  </div>

Â  <button id="askEditorBtn" class="btn-animated">
Â  Â  <img id="askEditorBtnIcon" src="..." alt="EditÃ¶r" class="..." />
Â  Â  <span id="askEditorBtnText">EditÃ¶re Sor</span>
Â  Â  <div id="editorBusyPopup">EditÃ¶r bir ÅŸeylerle meÅŸgul!</div>
Â  </button>
</div>

<div id="newsCardContainer" class="relative w-full max-w-sm sm:max-w-md aspect-[3/4] rounded-2xl shadow-2xl">
<div id="swipeRealIndicator" class="swipe-decision-indicator real-indicator">GERÃ‡EK</div>
<div id="swipeFakeIndicator" class="swipe-decision-indicator fake-indicator">SAHTE</div>
<div id="newsCard" class="absolute inset-0 rounded-2xl overflow-hidden bg-slate-200">
Â  Â  <img id="newsImage" alt="Haber Makalesi Resmi" class="absolute inset-0 h-full w-full object-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"/>
Â  Â  <div class="absolute inset-0 card-gradient flex flex-col justify-end p-3 sm:p-5 space-y-1 sm:space-y-2">
Â  Â  Â  Â  <span class="sponsored-badge">SPONSORLU</span>
Â  Â  Â  Â  <h2 id="newsTitle" class="text-white text-xl sm:text-2xl font-bold leading-tight drop-shadow-lg">Haber BaÅŸlÄ±ÄŸÄ±</h2>
Â  Â  Â  Â  <p id="newsSnippet" class="text-gray-200 text-xs sm:text-sm font-normal leading-relaxed line-clamp-3 sm:line-clamp-4 drop-shadow-md">Haber metni...</p>
Â  Â  </div>
</div>
</div>
<div class="text-center text-slate-500/80 mt-3 text-xs sm:text-sm px-4">
Karar vermek iÃ§in haber kartÄ±nÄ± <strong>saÄŸa (GERÃ‡EK)</strong> veya <strong>sola (SAHTE)</strong> doÄŸru kaydÄ±rÄ±n.
</div>
</main>
<nav class="sticky bottom-0 bg-white border-t border-gray-200 pb-safe z-20 shadow-top">
<div class="flex justify-around items-center h-16">
<a id="gameNavHome" href="#" class="nav-link flex flex-col items-center justify-center gap-0.5 text-gray-500 hover:primary-color-text hover:bg-gray-100 transition-all duration-150 w-1/3 p-2 rounded-lg">
<span class="material-icons-outlined nav-icon text-2xl">cottage</span><span class="text-xs font-medium nav-text">Ana Sayfa</span>
</a>
<a id="gameNavGame" href="#" class="nav-link flex flex-col items-center justify-center gap-0.5 text-gray-500 hover:primary-color-text hover:bg-gray-100 transition-all duration-150 w-1/3 p-2 rounded-lg">
<span class="material-icons-outlined nav-icon text-2xl">gamepad</span><span class="text-xs font-medium nav-text">Oyun</span>
</a>
<a id="gameNavScores" href="#" class="nav-link flex flex-col items-center justify-center gap-0.5 text-gray-500 hover:primary-color-text hover:bg-gray-100 transition-all duration-150 w-1/3 p-2 rounded-lg">
<span class="material-icons-outlined nav-icon text-2xl">leaderboard</span><span class="text-xs font-medium nav-text">Skorlar</span>
</a>
</div>
</nav>
</div>
</div>

<div id="howToPlayModal" class="fixed inset-0 items-center justify-center p-4 hidden z-50 modal-backdrop">
<div class="bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-auto feedback-content-appear">
<div class="flex justify-between items-center mb-4">
<h3 class="text-2xl font-bold text-slate-800 lexend-font">NasÄ±l OynanÄ±r?</h3>
<button id="closeModalBtn" class="text-slate-500 hover:text-slate-700 btn-animated p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-[#5667F8] transition-colors duration-150">
<span class="material-icons">close</span>
</button>
</div>
<div class="text-slate-600 space-y-3 lexend-font">
<p>FakeBreak'e hoÅŸ geldin!</p>
<p>1. Ekranda beliren haber kartÄ±nÄ± dikkatlice oku.</p>
<p>2. Haberin <strong>GERÃ‡EK</strong> olduÄŸuna inanÄ±yorsan kartÄ± <strong>SAÄA</strong> doÄŸru kaydÄ±r.</p>
<p>3. Haberin <strong>SAHTE</strong> olduÄŸuna inanÄ±yorsan kartÄ± <strong>SOLA</strong> doÄŸru kaydÄ±r.</p>
<p>4. Kafan karÄ±ÅŸtÄ±ÄŸÄ±nda <strong> "EditÃ¶re Sor"</strong> butonuna basarak bir ipucu alabilirsin (oyun baÅŸÄ±na sadece bir kere!).</p>
</div>
</div>
</div>

<div id="aboutModal" class="fixed inset-0 items-center justify-center p-4 hidden z-50 modal-backdrop">
<div class="bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-auto feedback-content-appear">
<div class="flex justify-between items-center mb-4">
Â  <h3 class="text-2xl font-bold text-slate-800 lexend-font">HakkÄ±nda</h3>
Â  <button id="closeAboutModalBtn" class="text-slate-500 hover:text-slate-700 btn-animated p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-[#5667F8] transition-colors duration-150">
Â  Â  <span class="material-icons">close</span>
Â  </button>
</div>
<div class="text-slate-600 space-y-3 lexend-font">
Â  Â  <p>Her gÃ¼n sadece bizim coÄŸrafyada olabileceÄŸine inandÄ±ÄŸÄ±mÄ±z, â€œbu da ancak burada olurâ€ dedirten olaylarla karÅŸÄ±laÅŸÄ±yoruz. Ä°ÅŸte bu oyun, Ã¼lkemizin kendine has gÃ¼ndemini, bitmek bilmeyen sÃ¼rprizlerini ve eÅŸsiz mizah anlayÄ±ÅŸÄ±nÄ± yansÄ±tmak amacÄ±yla tamamen eÄŸlence iÃ§in geliÅŸtirilmiÅŸtir.</p>
Â  Â  <p>GeliÅŸtirici: Gemini + ChatGPT</p>
Â  Â  <p class="text-sm text-slate-500">(Konsept & Prompt Whisperer: Emre Ã–cal)</p>
</div>
</div>
</div>

<div id="profileDisabledPopup" class="fixed bottom-[15%] left-1/2 transform -translate-x-1/2 bg-slate-800 text-white text-sm py-2.5 px-5 sm:py-3 sm:px-6 rounded-lg shadow-xl z-[100] opacity-0 transition-all duration-300 ease-out pointer-events-none">
Â  Â  BoÅŸuna basma, iÅŸlevi yok. Dolu gÃ¶zÃ¼ksÃ¼n diye koydum ğŸ˜
</div>

<div id="timeUpPopup" class="fixed inset-0 items-center justify-center p-4 hidden z-40 modal-backdrop">
<div class="bg-white rounded-lg shadow-xl p-6 sm:p-8 max-w-xs sm:max-w-sm w-full text-center feedback-content-appear">
<span class="material-icons-outlined timeup-icon mb-4" style="font-size: 48px;">timer_off</span>
<h3 class="text-xl sm:text-2xl font-bold text-slate-800 mb-3">SÃ¼ren Doldu!</h3>
<p class="text-slate-600 mb-6 text-sm sm:text-base">Bu soru iÃ§in cevap sÃ¼reniz sona erdi.</p>
<button id="timeUpOkButton" class="w-full rounded-full h-11 px-6 btn-primary hover:bg-[#4C5DF8] text-lg font-semibold transition-colors btn-animated focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#5667F8]">Tamam</button>
</div>
</div>

<div id="feedbackScreen" class="main-screen-view hidden bg-slate-100 fixed inset-0 z-30 flex flex-col justify-between overflow-y-auto h-full">
<header class="sticky top-0 z-10 bg-white shadow-sm"> <div class="mx-auto flex max-w-3xl items-center justify-end p-3 sm:p-4"> <button id="closeFeedbackBtn" class="flex items-center justify-center rounded-full text-slate-700 hover:bg-slate-100 p-2 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 btn-animated transition-colors duration-150"> <span class="material-icons-outlined">close</span> </button> </div> </header> <main class="flex-grow px-4 sm:px-6 py-6 sm:py-8"> <div class="mx-auto max-w-md text-center feedback-content-appear"> <div class="mb-6 sm:mb-8"> <span id="feedbackIcon" class="material-icons-outlined" style="font-size: 56px sm:font-size: 64px;"></span> <h2 id="feedbackTitle" class="mt-3 sm:mt-4 text-2xl sm:text-3xl font-bold text-slate-800"></h2> </div> <div id="feedbackBox" class="rounded-lg bg-white p-5 sm:p-6 shadow-xl mb-6 sm:mb-8"> <p id="feedbackText" class="text-slate-700 text-sm sm:text-base leading-relaxed"></p> </div> <div id="feedbackSourceSection" class="hidden rounded-lg bg-white p-5 sm:p-6 shadow-xl text-left"> <h3 class="text-lg sm:text-xl font-semibold text-slate-800 mb-3">Kaynak Ä°ncelemesi</h3> <a id="feedbackSourceLinkTag" class="flex items-center gap-3 text-slate-600 hover:text-blue-600 transition-colors group" href="#" target="_blank" rel="noopener noreferrer"> <div class="flex items-center justify-center rounded-lg bg-slate-100 group-hover:bg-blue-100 p-3 shrink-0 transition-colors"> <span class="material-icons-outlined text-slate-500 group-hover:text-blue-600">link</span> </div> <p id="feedbackSourceName" class="text-sm sm:text-base font-medium flex-1 truncate"></p> <span class="material-icons-outlined text-slate-400 group-hover:text-blue-500 text-lg">arrow_forward_ios</span> </a> </div> </div> </main> <footer class="sticky bottom-0 bg-white border-t border-slate-200 p-4 shadow-top"> <div class="mx-auto max-w-md"> <button id="feedbackNextButton" class="w-full flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-12 px-6 btn-primary text-white text-lg font-semibold leading-normal tracking-[0.015em] hover:bg-[#4C5DF8] transition-colors focus:outline-none focus:ring-2 focus:ring-[#5667F8] focus:ring-offset-2 btn-animated"> <span class="truncate">Sonraki Soru</span> </button> </div> </footer>
</div>

<div id="resultsScreen" class="main-screen-view hidden bg-slate-100 fixed inset-0 z-30 flex flex-col justify-between overflow-y-auto h-full"> <header class="sticky top-0 z-10 bg-white shadow-sm"> <div class="mx-auto flex max-w-7xl items-center justify-between p-4"> <button id="closeResultsHeaderBtn" class="text-slate-700 hover:text-slate-900 p-2 rounded-full btn-animated focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-[#5667F8] transition-colors duration-150"> <span class="material-symbols-outlined">close</span> </button> <h1 class="text-xl font-semibold text-slate-900">SonuÃ§lar</h1> <div class="w-8 sm:w-10"></div> </div> </header> <main class="flex-1 overflow-y-auto px-6 py-8"> <div class="mx-auto max-w-md text-center"> <div class="mb-8 rounded-xl bg-white p-6 shadow-xl feedback-content-appear"> <h2 class="text-4xl sm:text-5xl font-bold text-slate-800">Skorun: <span id="finalScoreValue" class="text-[#5667F8]">0/0</span></h2> <p class="mt-2 text-slate-600">En YÃ¼ksek Skor: <span id="highScoreDisplay" class="font-medium text-slate-700">0/0</span></p> <p class="mt-1 text-slate-600">Harcanan SÃ¼re: <span id="timeTakenValue" class="font-medium text-slate-700">0 dakika 0 saniye</span></p>
<h4 class="text-lg font-semibold text-slate-700 mt-6 mb-3 hidden">BaÅŸarÄ±mlar</h4>
<div id="achievementsDisplay" class="space-y-2 hidden"> </div>
</div> <div class="rounded-xl bg-white p-6 shadow-xl mt-8"> <div class="flex items-center justify-between mb-6"> <h3 class="text-2xl font-semibold text-slate-800">Liderlik Tablosu</h3> <span class="material-symbols-outlined text-yellow-500 !text-3xl">emoji_events</span> </div> <div id="leaderboardEntriesContainer" class="space-y-3"> </div> </div> </div> </main>
<footer class="sticky bottom-0 bg-white/90 backdrop-blur-sm p-4 shadow-[0_-2px_10px_rgba(0,0,0,0.08)]">
Â  <div class="mx-auto flex max-w-md flex-col gap-3">
Â  Â  <button id="shareResultsBtn" class="flex h-12 w-full items-center justify-center rounded-full bg-[#27AE60] px-5 text-base font-bold text-white tracking-wide shadow-md hover:bg-[#219653] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#27AE60] btn-animated transition-colors duration-150">
Â  Â  Â  Â  <span class="material-symbols-outlined mr-2">share</span>Sonucu PaylaÅŸ
Â  Â  </button>
Â  Â  <button id="playAgainBtn" class="flex h-12 w-full items-center justify-center rounded-full bg-[#E0E7FF] px-5 text-base font-bold text-[#3730A3] tracking-wide shadow-md hover:bg-[#C7D2FE] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#A5B4FC] btn-animated transition-colors duration-150">
Â  Â  Â  Â  <span class="material-symbols-outlined mr-2">replay</span>Tekrar Oyna
Â  Â  </button>
Â  Â  <button id="backToHomeResultsBtn" class="flex h-12 w-full items-center justify-center rounded-full bg-slate-200 px-5 text-base font-bold text-slate-700 tracking-wide shadow-md hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-400 btn-animated transition-colors duration-150">
Â  Â  Â  Â  <span class="material-symbols-outlined mr-2">home</span>Ana Sayfaya DÃ¶n
Â  Â  </button>
Â  </div>
</footer>
</div>

<div id="editorHintModal" class="fixed inset-0 items-center justify-center p-4 hidden z-[60]">
Â  Â  <div class="editor-hint-content feedback-content-appear text-center">
Â  Â  Â  Â  <div class="flex justify-end mb-2">
Â  Â  Â  Â  Â  Â  Â <button id="closeEditorHintBtn" class="btn-animated">
Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="material-icons">close</span>
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="editor-icon-container mx-auto">
Â  Â  Â  Â  Â  Â  <img id="editorIcon" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="EditÃ¶r Ä°konu">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <h3 id="editorName" class="editor-name">EditÃ¶r AdÄ±</h3>
Â  Â  Â  Â  <p id="editorQuote" class="editor-quote"></p>
Â  Â  </div>
</div>

</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
const appRoot = document.getElementById('appRoot');
const unsupportedDeviceOverlay = document.getElementById('unsupportedDeviceOverlay');
const homeScreenDiv = document.getElementById('homeScreen');
const playNowButton = document.getElementById('playNowBtn');
const howToPlayButton = document.getElementById('howToPlayBtn');
const leaderboardBtnHome = document.getElementById('leaderboardBtnHome');
const modal = document.getElementById('howToPlayModal');
const closeModalButton = document.getElementById('closeModalBtn');
const aboutBtn = document.getElementById('aboutBtn');
const aboutModal = document.getElementById('aboutModal');
const closeAboutModalBtn = document.getElementById('closeAboutModalBtn');
const gameScreenDiv = document.getElementById('gameScreen');
const closeGameButton = document.getElementById('closeGameBtn');
const currentQuestionDisplay = document.getElementById('currentQuestionDisplay');
const totalQuestionsDisplay = document.getElementById('totalQuestionsDisplay');
const scoreDisplay = document.getElementById('scoreDisplay');
const streakCounter = document.getElementById('streakCounter');
const progressBar = document.getElementById('progressBar');
const timerSeconds = document.getElementById('timerSeconds');
const timerSecondsBox = document.getElementById('timerSecondsBox');
const newsCardContainer = document.getElementById('newsCardContainer');
const newsCard = document.getElementById('newsCard');
const newsImage = document.getElementById('newsImage');
const newsTitle = document.getElementById('newsTitle');
const newsSnippet = document.getElementById('newsSnippet');
const swipeRealIndicator = document.getElementById('swipeRealIndicator');
const swipeFakeIndicator = document.getElementById('swipeFakeIndicator');
const timeUpPopup = document.getElementById('timeUpPopup');
const timeUpOkButton = document.getElementById('timeUpOkButton');
const feedbackScreen = document.getElementById('feedbackScreen');
const closeFeedbackBtn = document.getElementById('closeFeedbackBtn');
const feedbackIcon = document.getElementById('feedbackIcon');
const feedbackTitleElement = document.getElementById('feedbackTitle');
const feedbackBox = document.getElementById('feedbackBox');
const feedbackText = document.getElementById('feedbackText');
const feedbackSourceSection = document.getElementById('feedbackSourceSection');
const feedbackSourceLinkTag = document.getElementById('feedbackSourceLinkTag');
const feedbackSourceName = document.getElementById('feedbackSourceName');
const feedbackNextButton = document.getElementById('feedbackNextButton');
const resultsScreen = document.getElementById('resultsScreen');
const finalScoreValue = document.getElementById('finalScoreValue');
const highScoreDisplay = document.getElementById('highScoreDisplay');
const timeTakenValue = document.getElementById('timeTakenValue');
const leaderboardEntriesContainer = document.getElementById('leaderboardEntriesContainer');
const playAgainBtn = document.getElementById('playAgainBtn');
const backToHomeResultsBtn = document.getElementById('backToHomeResultsBtn');
const closeResultsHeaderBtn = document.getElementById('closeResultsHeaderBtn');
const shareResultsBtn = document.getElementById('shareResultsBtn');
const homeNavHome = document.getElementById('homeNavHome');
const homeNavScores = document.getElementById('homeNavScores');
const homeNavProfile = document.getElementById('homeNavProfile');
const gameNavHome = document.getElementById('gameNavHome');
const gameNavGame = document.getElementById('gameNavGame');
const gameNavScores = document.getElementById('gameNavScores');
const profileDisabledPopup = document.getElementById('profileDisabledPopup');

const askEditorBtn = document.getElementById('askEditorBtn');
const askEditorBtnIcon = document.getElementById('askEditorBtnIcon');
const askEditorBtnText = document.getElementById('askEditorBtnText');
const editorHintModal = document.getElementById('editorHintModal');
const closeEditorHintBtn = document.getElementById('closeEditorHintBtn');
const editorIcon = document.getElementById('editorIcon');
const editorName = document.getElementById('editorName');
const editorQuote = document.getElementById('editorQuote');
const editorBusyPopup = document.getElementById('editorBusyPopup');


if (!appRoot || !unsupportedDeviceOverlay || !homeScreenDiv || !gameScreenDiv || !newsCard || !newsCardContainer || !modal || !timeUpPopup || !feedbackScreen || !resultsScreen || !aboutModal || !profileDisabledPopup || !newsTitle || !feedbackTitleElement || !timerSecondsBox || !askEditorBtn || !askEditorBtnIcon || !askEditorBtnText || !editorHintModal || !closeEditorHintBtn || !editorIcon || !editorName || !editorQuote || !editorBusyPopup ) {
console.error("Kritik HTML elementlerinden biri veya birkaÃ§Ä± DOM'da bulunamadÄ±! LÃ¼tfen ID'leri kontrol edin.");
if(document.body) document.body.innerHTML = "<p style='color:red; text-align:center; font-size:20px; margin-top:50px;'>Kritik bir hata oluÅŸtu. LÃ¼tfen geliÅŸtirici konsolunu kontrol edin.</p>";
return;
}

function checkScreenSize() {
Â  Â  const MAX_SUPPORTED_WIDTH = 768;
Â  Â  if (window.innerWidth > MAX_SUPPORTED_WIDTH) {
Â  Â  Â  Â  unsupportedDeviceOverlay.style.display = 'flex';
Â  Â  Â  Â  appRoot.style.display = 'none';
Â  Â  } else {
Â  Â  Â  Â  unsupportedDeviceOverlay.style.display = 'none';
Â  Â  Â  Â  appRoot.style.display = 'flex';
Â  Â  }
}
checkScreenSize();
window.addEventListener('resize', checkScreenSize);

const newsData = [
{
Â  Â  id: 1, title: "DÃ¼ÄŸÃ¼n konvoyunun yolunu Ä°HA ile kestiler!", snippet: "Sakaryaâ€™nÄ±n Arifiye ilÃ§esinde TEKNOFESTâ€™e hazÄ±rlanan Ã¼niversiteli genÃ§ler, geliÅŸtirdikleri Ä°nsansÄ±z Hava AracÄ± (Ä°HA) ile sÄ±ra dÄ±ÅŸÄ± bir geleneÄŸe imza attÄ±.", image: "https://i.ibb.co/2YZS2NvT/image.png", link: "https://www.milliyet.com.tr/gundem/dugun-konvoyunu-iha-ile-kestiler-boyle-yol-kesme-gelenegi-gorulmedi-7377522", isReal: true, explanation: "Valla gerÃ§ek! Sakarya'da Ã¼niversiteli genÃ§ler TEKNOFEST iÃ§in yaptÄ±klarÄ± Ä°HA ile 'Durun bakalÄ±m, Ã¶nce bizim bahÅŸiÅŸ!' demiÅŸler resmen. Teknoloji ve gelenek bÃ¶yle de birleÅŸiyormuÅŸ demek ki, helal olsun genÃ§lerimize.", displaySourceName: "Milliyet", displaySourceLink: "https://www.milliyet.com.tr/gundem/dugun-konvoyunu-iha-ile-kestiler-boyle-yol-kesme-gelenegi-gorulmedi-7377522", isSponsored: false, hintEditorName: "Cenk", hintSpecificText: "GenÃ§ler Ä°HA'yÄ± dÃ¼ÄŸÃ¼n pastasÄ± kesmek iÃ§in kullanmadÄ±klarÄ±na dua etsinler! Ama bizim genÃ§lerimiz yaratÄ±cÄ±dÄ±r, teknolojiyle geleneÄŸi birleÅŸtirip 'drone'a bahÅŸiÅŸ kaptÄ±rmÄ±ÅŸ olabilirler mi acaba? TEKNOFEST Ã§ocuklarÄ± bunlar, belli mi olur?"
},
{
Â  Â  id: 2, title: "BursalÄ± iÅŸletmeci Etiyopya'lÄ± kabileye kebabÄ± sevdirdi!", snippet: "KeÃ§iden Adana yapÄ±nca kabile ayaÄŸa kalktÄ±, o gÃ¼nden beri herkes ona â€œeniÅŸteâ€ diyor.", image: "https://i.ibb.co/mVmKVnC0/Screenshot-2025-05-25-at-16-12-45.png", link: "https://www.milliyet.com.tr/pembenar/etiyopyali-kabileye-kebabi-sevdiren-bursali-bana-herkes-burada-eniste-diyor-7368262", isReal: true, explanation: "Bu da gerÃ§ek Ã§Ä±ktÄ±! BursalÄ± bir aÅŸÃ§Ä± almÄ±ÅŸ eline satÄ±rÄ±, Etiyopya'da bir kabileyi Adana kebabÄ±yla tanÄ±ÅŸtÄ±rmÄ±ÅŸ. Kabile o kadar beÄŸenmiÅŸ ki, bizimkine 'eniÅŸte' demeye baÅŸlamÄ±ÅŸlar. DÃ¼ÅŸÃ¼nsene, Etiyopya'da 'EniÅŸte, bir Adana Ã§ek!' diyorlar.", displaySourceName: "Milliyet", displaySourceLink: "https://www.milliyet.com.tr/pembenar/etiyopyali-kabileye-kebabi-sevdiren-bursali-bana-herkes-burada-eniste-diyor-7368262", isSponsored: false, hintEditorName: "Melis", hintSpecificText: "AÅŸkÄ±n ve kebabÄ±n dili, dini, Ä±rkÄ± olmaz derler... Hele bir de BursalÄ±ysa o eli lezzetli 'eniÅŸte', Etiyopya'da bile gÃ¶nÃ¼lleri fethetmiÅŸ olabilir. Mideye giden yol, kalbe gidenden daha mÄ± kÄ±sa ne? Bence bu hikayede bolca sevgi ve bir tutam da acÄ± var, gerÃ§ek olabilir!"
},
{
Â  Â  id: 3, title: "Muhtar, kÃ¶yde yapay zekÃ¢ ile dÃ¼ÄŸÃ¼n organize etti: 'Davulcuya Gerek KalmadÄ±!'", snippet: "Ã‡orum'un Bayat ilÃ§esine baÄŸlÄ± bir kÃ¶yde muhtar, kÃ¶ydeki genÃ§ Ã§ift iÃ§in ChatGPT'den dÃ¼ÄŸÃ¼n organizasyonu planladÄ±. Halay sÄ±rasÄ±nÄ± bile yapay zekÃ¢ belirledi.", image: "https://i.ibb.co/4RZqspXY/image.png", link: "#muhtar-chatgpt-dugun", isReal: false, explanation: "Yok artÄ±k, bu tamamen uydurma! Ã‡orum'da muhtar ChatGPT'ye dÃ¼ÄŸÃ¼n planlatmÄ±ÅŸ da, halay sÄ±rasÄ±nÄ± bile o belirlemiÅŸ falan... KulaÄŸa komik geliyor ama maalesef (ya da neyse ki) bÃ¶yle bir ÅŸey yaÅŸanmamÄ±ÅŸ. Sosyal medyada geyiÄŸi dÃ¶nmÃ¼ÅŸtÃ¼r kesin, ama haber deÄŸeri yok, sallamasyon.", isSponsored: false, hintEditorName: "EylÃ¼l", hintSpecificText: "ChatGPT halay baÅŸÄ± seÃ§miÅŸ... GerÃ§ek mi bu ÅŸimdi? Anadoluâ€™daki kadÄ±nlar yÄ±llardÄ±r imeceyle, el ele vererek dÃ¼ÄŸÃ¼n kurar. Kimi zaman gelinlik diker, kimi zaman sofrayÄ± kurar. DayanÄ±ÅŸmanÄ±n olduÄŸu yerde algoritma bu kadar alan kaplayamaz. Bu haber biraz â€œÅŸehirli fantezisiâ€ gibi geldi bana."
},
{
Â  Â  id: 4, title: "BYD'nin en bÃ¼yÃ¼ÄŸÃ¼ Tang tam tamÄ±na 7 kiÅŸilikmiÅŸ!", snippet: "GeniÅŸ Ä°Ã§ Hacmi GÃ¶renleri ÅaÅŸÄ±rtan araca tam 7 kiÅŸilik bir aile rahatÃ§a sÄ±ÄŸabilen araÃ§ 'bu kadar da rahat olur mu?' dedirtiyor.", image: "https://i.ibb.co/mFSdLh8X/image.png", link: "^byd-tang", isReal: true, explanation: "Evet, bu haber gerÃ§ekten doÄŸru! BYD'nin Tang modeli tam 7 koltuklu ve iÃ§i acayip geniÅŸ, yani bÃ¼yÃ¼k aileler ya da arkadaÅŸ gruplarÄ± iÃ§in sÃ¼per rahat. Elektrikli olmasÄ±, havalÄ± tasarÄ±mÄ± ve teknolojik sÃ¼rÃ¼ÅŸ Ã¶zellikleriyle Tang, TÃ¼rkiye'deki SUV'lara yeni bir soluk getiriyor. ", displaySourceName: "Hemen KeÅŸfet!", displaySourceLink: "https://www.bydauto.com.tr/tang", isSponsored: true, hintEditorName: "Cenk", hintSpecificText: "Yav bu neymiÅŸ be! 7 kiÅŸi rahat rahat, diz mesafesi desen uÃ§ak gibi... Tang deÄŸil, adeta uÃ§an halÄ±! Bizim editÃ¶r ekip sahaya gitse arka sÄ±rada hÃ¢lÃ¢ yer kalÄ±r. Hem elektrikli hem ÅŸÄ±k; Elon adamÄ± gÃ¶rse gÃ¶rse â€œbiz niye bÃ¶yle yapmadÄ±kâ€ der. Ailece pikniÄŸe mi, arkadaÅŸlarla deplasmana mÄ±, hepsi olur. Bence bu araba, â€œAbi harbiden yapmÄ±ÅŸlar!â€ dedirten cinsten."
},
{
Â  Â  id: 5, title: "Ä°stanbul'da yeni trafik uygulamasÄ±: Kornaya fazla basana ehliyet dondurma cezasÄ±!", snippet: "Ä°BB'nin baÅŸlattÄ±ÄŸÄ± pilot uygulamada, trafikte 3 saniyeden uzun sÃ¼re korna Ã§alan sÃ¼rÃ¼cÃ¼lerin ehliyetine 1 hafta el konuluyor. Tepkiler karÄ±ÅŸÄ±k.", image: "https://i.ibb.co/RpB72wQm/image.png", link: "#korna-cezasi-kurgu", isReal: false, explanation: "KeÅŸke gerÃ§ek olsa diyenler olabilir ama bu haber de maalesef gerÃ§ek deÄŸil. Ä°stanbul trafiÄŸinde kornaya abananÄ±n ehliyetine el koymak... GÃ¼zel fikir ama ÅŸimdilik sadece hayal. Olsa kimse ÅŸaÅŸÄ±rmazdÄ± o ayrÄ± konu tabii, o kornalarla az Ã§ekmedik!", isSponsored: false, hintEditorName: "EylÃ¼l", hintSpecificText: "Ah, keÅŸke! Ä°stanbul'da korna yerine kuÅŸ sesi duysak... Ama sence bu kadar medeni bir Ã§Ã¶zÃ¼mÃ¼ hemen hayata geÃ§irmiÅŸ olabilirler mi? Yoksa bu, her sabah trafikte sinir krizi geÃ§iren bizlerin, Ã¶zellikle biz kadÄ±nlarÄ±n tatlÄ± bir rÃ¼yasÄ± mÄ±? Biraz fazla gÃ¼zel, deÄŸil mi?"
},
{
Â  Â  id: 6, title: "Ankara'da 3+1 diye aldÄ±ÄŸÄ± daire, 1+1 Ã§Ä±ktÄ±!", snippet: "Almanyaâ€™da yaÅŸayan Mehmet Ãœ., Ankaraâ€™da 140 metrekare olarak satÄ±n aldÄ±ÄŸÄ± dairenin aslÄ±nda 78 metrekare ve 1+1 olduÄŸunu fark edince ÅŸoke oldu. Konuyla ilgili dava aÃ§Ä±ldÄ±.", image: "https://i.ibb.co/MxBPdvqN/image.png", link: "https://www.ensonhaber.com/3-sayfa/ankarada-31-diye-aldigi-daire-11-cikti", isReal: true, explanation: "Ah be Mehmet abi! Bu haber maalesef gerÃ§ek. Almanya'dan gelip Ankara'da 'GeniÅŸ geniÅŸ otururum' diye aldÄ±ÄŸÄ± ev, kuÅŸ yuvasÄ± Ã§Ä±kmÄ±ÅŸ resmen. 3+1 diye al, 1+1 Ã§Ä±ksÄ±n... Tam 'TÃ¼rkiye'de emlakÃ§Ä±lÄ±k' fÄ±krasÄ± gibi ama yaÅŸanmÄ±ÅŸ. BasÄ±nda da bayaÄŸÄ± konuÅŸuldu bu olay.", displaySourceName: "HÃ¼rriyet", displaySourceLink: "https://www.hurriyet.com.tr/gundem/4-yil-sonra-ogrendi-hayatinin-sokunu-yasadi-3-1-olarak-satin-aldigi-ev-1-1-cikti-42788236", isSponsored: false, hintEditorName: "Can", hintSpecificText: "Kapitalizmde sÃ¼rprizler bitmez. â€œ140 metrekareâ€ deyip sana kutu gibi daire satmalarÄ±, sistemin bize yaptÄ±ÄŸÄ± numaralardan biri. Ama ne yazÄ±k ki bu sadece teori deÄŸil; tam da bÃ¶yle olaylar yaÅŸanÄ±yor. Mehmet abiye Ã¼zÃ¼lsem mi, yoksa â€œsisteme hoÅŸ geldinâ€ mi desem bilemedim. GerÃ§ek olabilir, hem de Ã§ok."
},
{
Â  Â  id: 7, title: "Denizli Honaz Belediyesi, ÅŸehir sakinlerini uyanmak iÃ§in yeni horoz uygulamasÄ±yla tanÄ±ÅŸtÄ±rdÄ±!", snippet: "Uykucu vatandaÅŸlara doÄŸal Ã§Ã¶zÃ¼m: Belediye, sabahlarÄ± klasik alarm seslerinden ÅŸikayet edenler iÃ§in 'horozlu uyandÄ±rma hizmeti' baÅŸlattÄ±. GerÃ§ek horozlar, belirlenen adreslere sabah 06.30â€™da gÃ¶tÃ¼rÃ¼lÃ¼yor.", image: "https://i.ibb.co/qQ9kDcB/image.png", link: "#horozlu-uyandirici", isReal: false, explanation: "Hahaha, bu Ã§ok iyiymiÅŸ ama tabii ki uydurma! Denizli'de belediye 'Alarmla uyanamayanlara horoz yolluyoruz' dese ortalÄ±k yÄ±kÄ±lÄ±rdÄ± herhalde. SabahÄ±n kÃ¶rÃ¼nde kapÄ±na horoz gelmesi... Mizah sitelerinde falan dÃ¶ner anca bÃ¶yle ÅŸeyler, gerÃ§ek hayatta yok (ÅŸimdilik!).", isSponsored: false, hintEditorName: "Can", hintSpecificText: "Belediyenin 'organik alarm' projesi! Denizli horozuyla gÃ¼ne baÅŸlamak... KulaÄŸa pastoral bir kabus gibi geliyor. Hayvan haklarÄ± savunucularÄ± ne derdi acaba? Sence bizim belediyeler bu kadar 'kÃ¶klere dÃ¶nÃ¼ÅŸ' projesine girmiÅŸ olabilir mi, yoksa birileri horozlarÄ± salÄ±p geyiÄŸini mi yapÄ±yor? Bu biraz fazla 'doÄŸal' kaÃ§mÄ±ÅŸ sanki."
},
{
Â  Â  id: 8, title: "SivaslÄ± Ã§iftÃ§i, 9 deve kuÅŸu alarak babasÄ±nÄ±n hayalini gerÃ§ekleÅŸtirdi", snippet: "Sivas'ta yaÅŸayan Berat Ã–ksÃ¼z, babasÄ±nÄ±n yÄ±llar Ã¶nceki deve kuÅŸu besleme hayalini gerÃ§ekleÅŸtirdi. 'BayaÄŸÄ± ÅŸaÅŸÄ±ran oluyor Ã§Ã¼nkÃ¼ Sivasâ€™ta gÃ¶rmedikleri bir ÅŸey' diyerek duygularÄ±nÄ± paylaÅŸtÄ±.", image: "https://i.ibb.co/YTwYG3LT/image.png", link: "https://www.ensonhaber.com/3-sayfa/sivasli-ciftci-babasinin-hayalini-gerceklestirdi", isReal: true, explanation: "Bu da capcanlÄ± gerÃ§ek! SivaslÄ± bir Ã§iftÃ§i, babasÄ±nÄ±n 'Ah bir deve kuÅŸu Ã§iftliÄŸim olsa' hayalini gerÃ§ekleÅŸtirmiÅŸ. YiÄŸidin harman olduÄŸu yerde deve kuÅŸu ne arar demeyin, SivaslÄ± ÅŸaÅŸÄ±rtmayÄ± sever. Adam yapmÄ±ÅŸ valla, gÃ¶renler de 'Vay be!' diyormuÅŸ.", displaySourceName: "En Son Haber", displaySourceLink: "https://www.ensonhaber.com/3-sayfa/sivasli-ciftci-babasinin-hayalini-gerceklestirdi", isSponsored: false, hintEditorName: "Melis", hintSpecificText: "Baba hayalleri kutsaldÄ±r, Sivas'Ä±n ayazÄ±nda bile olsa! YiÄŸidin harman olduÄŸu yerde deve kuÅŸu Ã§iftliÄŸi kurmak... KulaÄŸa 'Acaba?' dedirtse de, Anadolu insanÄ±nÄ±n azmi ve sevgisi daÄŸlarÄ± (veya deve kuÅŸlarÄ±nÄ±!) devirebilir. Bu hikayede bir sÄ±caklÄ±k ve azim var sanki, gerÃ§ek olabilir mi acaba?"
}
];

const editors = [
Â  Â  { name: "Can", icon: "https://i.ibb.co/RkkZGn3p/Chat-GPT-Image-May-28-2025-01-10-28-AM-removebg-preview.png" },
Â  Â  { name: "Cenk", icon: "https://i.ibb.co/KHwHtq4/Chat-GPT-Image-May-28-2025-01-10-34-AM-removebg-preview.png" },
Â  Â  { name: "EylÃ¼l", icon: "https://i.ibb.co/B5hfMKwF/Chat-GPT-Image-May-28-2025-01-12-30-AM-removebg-preview.png" },
Â  Â  { name: "Melis", icon: "https://i.ibb.co/4wH7VqgV/Chat-GPT-Image-May-28-2025-01-10-32-AM-removebg-preview.png" }
];

let editorForButtonIcon = null;
let editorWhoGaveHint = null;
let editorHintUsedThisGame = false;
let busyPopupTimeoutId = null;
let currentBusyIconClickListener = null;

const funnyNicknames = [
Â  Â  "Tekinsiz Penguen", "DÃ¼zayak KÄ±rkayak", "Paytak TavÅŸan", "Gizemli Geyik",
Â  Â  "Uykucu VaÅŸak", "GÃ¼lÃ¼nÃ§ Gergedan", "MeraklÄ± Mirket", "ÅaÅŸkÄ±n Sincap",
Â  Â  "Sakar Su Samuru", "Filozof Fare", "DansÃ§Ä± Dinozor", "HÄ±zlÄ± KaplumbaÄŸa",
Â  Â  "Kahkaha Kertenkelesi", "Geveze Goril", "Bilge BaykuÅŸ", "MaceracÄ± Maymun",
Â  Â  "Ã‡Ä±lgÄ±n Ã‡ita", "UÃ§an Palamut", "BÄ±yÄ±klÄ± Balina", "GÃ¶zlÃ¼klÃ¼ KÃ¶pekbalÄ±ÄŸÄ±",
Â  Â  "KÄ±vÄ±rcÄ±k Kuzu", "Benekli Porsuk", "AlÄ±ngan Ahtapot", "NeÅŸeli Numbat",
Â  Â  "Yorgun YÄ±lan", "ZÄ±pÄ±r ZÃ¼rafa", "PijamalÄ± Panda", "Tembel Timsah",
Â  Â  "Mistik Mantis", "Ã‡aylak Ã‡akal", "ProfesÃ¶r Pelikan", "Asabi Aslan",
Â  Â  "AbsÃ¼rt Ahtapot", "BahtsÄ±z Bukalemun", "CazgÄ±r CÄ±rcÄ±rbÃ¶ceÄŸi", "DalgÄ±n DenizanasÄ±",
Â  Â  "Ejderha Emojisi", "FÄ±rlama Flamingo", "Geometrik Geyik", "Haylaz Hamsi",
Â  Â  "Ä°ronik Ä°guana", "JanjanlÄ± Jaguar", "KafasÄ± KarÄ±ÅŸÄ±k Koala", "Lirik Leylek"
];

function getRandomNickname() {
Â  Â  return funnyNicknames[Math.floor(Math.random() * funnyNicknames.length)];
}

let playerNickname = localStorage.getItem('fakeOrTakePlayerNickname_tr') || null;

function ensurePlayerNickname() {
Â  Â  if (!playerNickname) {
Â  Â  Â  Â  playerNickname = getRandomNickname();
Â  Â  Â  Â  localStorage.setItem('fakeOrTakePlayerNickname_tr', playerNickname);
Â  Â  }
Â  Â  return playerNickname;
}

const editorBusyReasons = {
Â  Â  "Can": "Abi PN'lere bakÄ±yorum, 2 dk ğŸ™", "Melis": "Mailing bitince geliyorum, sÃ¶z!ğŸ™", "EylÃ¼l": "Morning'i hazÄ±rlÄ±yorum, birazdan dÃ¶neceÄŸim.ğŸ™", "Cenk": "BÃ¼lteni hallediyim sendeyim abi!ğŸ™"
};

let currentQuestionIndex = 0; let score = 0; let currentStreak = 0;
let timerInterval; let timeLeft = 15; const TIME_PER_QUESTION = 15;
let gameStartTime;
let gamePlayedAtLeastOnce = JSON.parse(localStorage.getItem('fakeOrTakeGamePlayed_tr')) || false;

let isSwiping = false; let isMouseSwiping = false;
let swipeStartX = 0; let swipeCurrentX = 0;
const SWIPE_THRESHOLD = 70; const CARD_MAX_ROTATION = 20; const CARD_ROTATION_FACTOR = CARD_MAX_ROTATION / 160;
let animateInTimeoutId = null; let timeUpAutoCloseTimeoutId = null; let profilePopupTimeoutId = null;

function preloadImage(url) { const img = new Image(); img.src = url; }
function startPreloadingNewsImages() {
Â  Â  newsData.forEach(newsItem => { if (newsItem.image && !newsItem.image.startsWith("data:image/")) preloadImage(newsItem.image); });
Â  Â  editors.forEach(editor => { if (editor.icon) preloadImage(editor.icon); });
}
function saveGamePlayedState() { localStorage.setItem('fakeOrTakeGamePlayed_tr', JSON.stringify(gamePlayedAtLeastOnce)); }

function updateActiveNav(activeScreenId) {
Â  Â  const navLinkElements = [ homeNavHome, homeNavScores, homeNavProfile, gameNavHome, gameNavGame, gameNavScores ];
Â  Â  navLinkElements.forEach(navEl => {
Â  Â  Â  Â  if (navEl) {
Â  Â  Â  Â  Â  Â  navEl.classList.remove('nav-item-active');
Â  Â  Â  Â  Â  Â  const icon = navEl.querySelector('.nav-icon');
Â  Â  Â  Â  Â  Â  if (icon && !icon.classList.contains('material-symbols-outlined')) {
Â  Â  Â  Â  Â  Â  Â  Â  icon.classList.remove('material-icons'); icon.classList.add('material-icons-outlined');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  });
Â  Â  let elementsToActivate = [];
Â  Â  const isHomeFooterVisible = homeNavHome && homeNavHome.offsetParent !== null;
Â  Â  const isGameFooterVisible = gameNavGame && gameNavGame.offsetParent !== null;
Â  Â  if (activeScreenId === 'homeScreen') {
Â  Â  Â  Â  if (isHomeFooterVisible) elementsToActivate.push(homeNavHome); if (isGameFooterVisible) elementsToActivate.push(gameNavHome);
Â  Â  } else if (activeScreenId === 'gameScreen') {
Â  Â  Â  Â  if (isGameFooterVisible) elementsToActivate.push(gameNavGame);
Â  Â  } else if (activeScreenId === 'resultsScreen') {
Â  Â  Â  Â  if (isHomeFooterVisible) elementsToActivate.push(homeNavScores); if (isGameFooterVisible) elementsToActivate.push(gameNavScores);
Â  Â  Â  Â  if (!isHomeFooterVisible && !isGameFooterVisible && resultsScreen && !resultsScreen.classList.contains('hidden')) elementsToActivate.push(homeNavScores);
Â  Â  } else if (activeScreenId === 'profileScreen') {
Â  Â  Â  Â  if (isHomeFooterVisible && homeNavProfile) elementsToActivate.push(homeNavProfile);
Â  Â  }
Â  Â  elementsToActivate.forEach(activeEl => {
Â  Â  Â  Â  if (activeEl) {
Â  Â  Â  Â  Â  Â  activeEl.classList.add('nav-item-active');
Â  Â  Â  Â  Â  Â  const icon = activeEl.querySelector('.nav-icon');
Â  Â  Â  Â  Â  Â  if (icon && !icon.classList.contains('material-symbols-outlined')) {
Â  Â  Â  Â  Â  Â  Â  Â  icon.classList.remove('material-icons-outlined'); icon.classList.add('material-icons');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  });
}

function showScreen(screen) {
Â  Â  const allScreens = [homeScreenDiv, gameScreenDiv, feedbackScreen, resultsScreen];
Â  Â  const allPopups = [timeUpPopup, modal, aboutModal, editorHintModal, editorBusyPopup];
Â  Â  allScreens.forEach(s => { if (s) { s.classList.add('hidden'); s.classList.remove('flex'); }});
Â  Â  allPopups.forEach(p => { if (p) { p.classList.add('hidden'); if(p !== editorBusyPopup) p.classList.remove('flex'); }});
Â  Â  if(screen){
Â  Â  Â  Â  screen.classList.remove('hidden');
Â  Â  Â  Â  if (allScreens.includes(screen) || [timeUpPopup, modal, aboutModal, editorHintModal].includes(screen) ) screen.classList.add('flex');
Â  Â  Â  Â  if (allScreens.includes(screen)) updateActiveNav(screen.id);
Â  Â  } else { updateActiveNav(null); }
Â  Â  if (!allPopups.includes(screen) && screen !== modal && screen !== aboutModal && screen !== editorHintModal) window.scrollTo(0,0);
}

function resetCardState(isNewCard = false) { if (!newsCard || !swipeRealIndicator || !swipeFakeIndicator) return; newsCard.classList.remove('fly-out-left', 'fly-out-right', 'enter-anim', 'active', 'swiping'); newsCard.style.animation = ''; if (isNewCard) { newsCard.classList.add('enter-anim'); newsCard.style.opacity = '0'; newsCard.style.transform = 'translateY(60px) scale(0.95) rotateX(-15deg)'; } else { newsCard.style.transition = 'transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)'; newsCard.style.transform = 'translateX(0px) rotate(0deg)'; newsCard.style.opacity = '1'; newsCard.style.visibility = 'visible'; } swipeRealIndicator.classList.remove('visible'); swipeFakeIndicator.classList.remove('visible');}
function animateCardIn() { if (!newsCard) return; void newsCard.offsetWidth; newsCard.classList.add('active'); }

function updateUIForNewQuestion() {
Â  Â  if (!newsCard || !newsImage || !newsTitle || !newsSnippet || !currentQuestionDisplay || !totalQuestionsDisplay || !progressBar || !streakCounter || !timerSeconds || !askEditorBtn || !askEditorBtnText || !askEditorBtnIcon || !editors || editors.length === 0 || !newsData[currentQuestionIndex]) return;
Â  Â  resetCardState(true);
Â  Â  const question = newsData[currentQuestionIndex];
Â  Â  if (question.isSponsored) newsCard.classList.add('sponsored-news-card'); else newsCard.classList.remove('sponsored-news-card');
Â  Â  if (animateInTimeoutId) clearTimeout(animateInTimeoutId);
Â  Â  if (newsImage) newsImage.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"; // Placeholder
Â  Â  if (newsImage && question.image) {
Â  Â  Â  Â  const img = new Image();
Â  Â  Â  Â  img.onload = () => { newsImage.src = question.image; animateInTimeoutId = setTimeout(animateCardIn, 30); };
Â  Â  Â  Â  img.onerror = () => { newsImage.src = "data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22100%25%22%20height%3D%22100%25%22%20viewBox%3D%220%200%20100%20100%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20width%3D%22100%25%22%20height%3D%22100%25%22%20fill%3D%22%23e2e8f0%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20dominant-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20font-family%3D%22sans-serif%22%20font-size%3D%2210%22%20fill%3D%22%2394a3b8%22%3EHata%3C%2Ftext%3E%3C%2Fsvg%3E"; animateInTimeoutId = setTimeout(animateCardIn, 30); }; // Fallback SVG
Â  Â  Â  Â  img.src = question.image;
Â  Â  } else {Â 
Â  Â  Â  Â  newsImage.src = "data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22100%25%22%20height%3D%22100%25%22%20viewBox%3D%220%200%20100%20100%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20width%3D%22100%25%22%20height%3D%22100%25%22%20fill%3D%22%23e2e8f0%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20dominant-baseline%3D%22middle%22%20text-anchor%3D%22middle%22%20font-family%3D%22sans-serif%22%20font-size%3D%2210%22%20fill%3D%22%2394a3b8%22%3EHata%3C%2Ftext%3E%3C%2Fsvg%3E";Â 
Â  Â  Â  Â  animateInTimeoutId = setTimeout(animateCardIn, 30);Â 
Â  Â  }
Â  Â  newsTitle.textContent = question.title; newsSnippet.textContent = question.snippet;
Â  Â  currentQuestionDisplay.textContent = currentQuestionIndex + 1; totalQuestionsDisplay.textContent = newsData.length;
Â  Â  streakCounter.textContent = currentStreak; progressBar.style.width = `${((currentQuestionIndex) / newsData.length) * 100}%`;
Â  Â  timerSeconds.classList.remove('timer-pulse', 'text-red-500'); if(timerSecondsBox) timerSecondsBox.classList.remove('timer-box-pulse');

    // --- Start: Modified Ask Editor Button Logic to match second snippet's behavior ---
    askEditorBtn.classList.remove('busy-state', 'ask-editor-inviting');

    if (question.id === 4 && !editorHintUsedThisGame) {
        askEditorBtn.classList.add('ask-editor-inviting');
    }

    if (editorHintUsedThisGame) {
        askEditorBtn.classList.add('disabled', 'busy-state');
        askEditorBtn.disabled = true;

        if (editorWhoGaveHint && editorWhoGaveHint.icon) {
            askEditorBtnIcon.src = editorWhoGaveHint.icon;
            askEditorBtnIcon.alt = editorWhoGaveHint.name;
            askEditorBtnIcon.classList.remove('hidden');
        } else {
            askEditorBtnIcon.classList.add('hidden');
        }

        askEditorBtnText.innerHTML = `
    <span style="display: inline-flex; align-items: center; gap: 4px;">
    Â  <span>EditÃ¶r meÅŸgul</span>
    Â  <span class="editor-busy-qmark-wrapper" style="position: relative;">
    Â  Â  <span id="editorBusyHintIcon" class="material-symbols-outlined editor-busy-qmark">help_outline</span>
    Â  Â  <div id="editorBusyPopup">EditÃ¶r meÅŸgul: Sebep burada!</div>
    Â  </span>
    </span>`;

        const editorBusyHintIconElement = document.getElementById('editorBusyHintIcon');
        if (editorBusyHintIconElement && editorBusyPopup && editorWhoGaveHint) {
            if (currentBusyIconClickListener) editorBusyHintIconElement.removeEventListener('click', currentBusyIconClickListener);
            currentBusyIconClickListener = (event) => {
                event.stopPropagation();
                if (busyPopupTimeoutId) clearTimeout(busyPopupTimeoutId);
                const reason = editorBusyReasons[editorWhoGaveHint.name] || "Bir ÅŸeylerle uÄŸraÅŸÄ±yor!";
                editorBusyPopup.textContent = `${editorWhoGaveHint.name}: ${reason}`;
                editorBusyPopup.style.display = 'block';
                busyPopupTimeoutId = setTimeout(() => { editorBusyPopup.style.display = 'none'; }, 2500);
            };
            editorBusyHintIconElement.addEventListener('click', currentBusyIconClickListener);
        }
        askEditorBtn.onclick = null;
    } else {
        // Not sponsored (or sponsored, doesn't matter here), hint not used yet
        askEditorBtn.classList.remove('disabled', 'busy-state');
        askEditorBtn.disabled = false;
        askEditorBtn.onclick = showEditorHint;

        const designatedEditorName = question.hintEditorName;
        editorForButtonIcon = editors.find(e => e.name === designatedEditorName) || editors[0];

        if (editorForButtonIcon && editorForButtonIcon.icon) {
            askEditorBtnIcon.src = editorForButtonIcon.icon;
            askEditorBtnIcon.alt = editorForButtonIcon.name;
            askEditorBtnIcon.classList.remove('hidden');
        } else {
            askEditorBtnIcon.classList.add('hidden');
        }
        askEditorBtnText.innerHTML = "EditÃ¶re Sor";
    }
    // --- End: Modified Ask Editor Button Logic ---
}

function startTimer(isContinuation = false) {
Â  Â  if(!timerSeconds || !timerSecondsBox) return;

Â  Â  if (!isContinuation || timeLeft <= 0) {
Â  Â  Â  Â  timeLeft = TIME_PER_QUESTION;
Â  Â  }

Â  Â  timerSeconds.textContent = timeLeft < 10 ? `0${timeLeft}` : timeLeft;
Â  Â  timerSeconds.classList.remove('timer-pulse', 'text-red-500');
Â  Â  timerSecondsBox.classList.remove('timer-box-pulse');

Â  Â  clearInterval(timerInterval);
Â  Â  timerInterval = setInterval(() => {
Â  Â  Â  Â  timeLeft--;
Â  Â  Â  Â  timerSeconds.textContent = timeLeft < 10 ? `0${timeLeft}` : timeLeft;
Â  Â  Â  Â  if (timeLeft <= 3 && timeLeft > 0) {
Â  Â  Â  Â  Â  Â  timerSeconds.classList.add('timer-pulse', 'text-red-500'); timerSecondsBox.classList.add('timer-box-pulse');
Â  Â  Â  Â  } else if (timeLeft <= 5 && timeLeft > 0) {
Â  Â  Â  Â  Â  Â  timerSeconds.classList.add('timer-pulse','text-red-500'); timerSecondsBox.classList.remove('timer-box-pulse');
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  timerSeconds.classList.remove('timer-pulse', 'text-red-500'); timerSecondsBox.classList.remove('timer-box-pulse');
Â  Â  Â  Â  }
Â  Â  Â  Â  if (timeLeft <= 0) {
Â  Â  Â  Â  Â  Â  clearInterval(timerInterval); showTimeUpPopup();
Â  Â  Â  Â  }
Â  Â  }, 1000);
}

function showTimeUpPopup() { if (!timeUpPopup) return; timeUpPopup.classList.remove('hidden'); timeUpPopup.classList.add('flex'); if (timeUpAutoCloseTimeoutId) { clearTimeout(timeUpAutoCloseTimeoutId); } timeUpAutoCloseTimeoutId = setTimeout(() => { if (timeUpPopup && !timeUpPopup.classList.contains('hidden')) { handleAnswer(null); } }, 1200); }
if (timeUpOkButton) { timeUpOkButton.addEventListener('click', () => { if (timeUpAutoCloseTimeoutId) { clearTimeout(timeUpAutoCloseTimeoutId); timeUpAutoCloseTimeoutId = null; } handleAnswer(null); }); }
function processSwipeDecision(isRealChoice) { if(!newsCard || !swipeRealIndicator || !swipeFakeIndicator) return; newsCard.style.transition = 'none'; if (isRealChoice) { newsCard.classList.add('fly-out-right'); swipeRealIndicator.classList.add('visible'); } else { newsCard.classList.add('fly-out-left'); swipeFakeIndicator.classList.add('visible'); } setTimeout(() => { handleAnswer(isRealChoice); }, 400); }

function handleAnswer(userChoiceIsReal) {
Â  Â  if (!scoreDisplay || !feedbackTitleElement || !feedbackIcon || !feedbackBox || !feedbackText || !feedbackSourceSection || !feedbackSourceName || !feedbackSourceLinkTag || !streakCounter || !timerSeconds) return;
Â  Â  clearInterval(timerInterval);
Â  Â  if(timerSeconds) { timerSeconds.classList.remove('timer-pulse', 'text-red-500'); }
Â  Â  if(timerSecondsBox) timerSecondsBox.classList.remove('timer-box-pulse');
Â  Â  if (timeUpAutoCloseTimeoutId) { clearTimeout(timeUpAutoCloseTimeoutId); timeUpAutoCloseTimeoutId = null; }
Â  Â  if (timeUpPopup && !timeUpPopup.classList.contains('hidden')) { timeUpPopup.classList.add('hidden'); timeUpPopup.classList.remove('flex');}
Â  Â  if (editorHintModal && !editorHintModal.classList.contains('hidden')) { editorHintModal.classList.add('hidden'); editorHintModal.classList.remove('flex'); }
Â  Â  if (editorBusyPopup && editorBusyPopup.style.display === 'block') editorBusyPopup.style.display = 'none';
Â  Â  const currentQuestion = newsData[currentQuestionIndex]; const wasCorrect = userChoiceIsReal === currentQuestion.isReal;
Â  Â  if (userChoiceIsReal !== null && wasCorrect) { score++; currentStreak++; } else if (userChoiceIsReal !== null && !wasCorrect) { currentStreak = 0; } if(userChoiceIsReal === null) currentStreak = 0;
Â  Â  scoreDisplay.textContent = score; streakCounter.textContent = currentStreak;
Â  Â  feedbackIcon.className = "material-icons-outlined feedback-content-appear"; feedbackBox.className = "rounded-lg bg-white p-5 sm:p-6 shadow-xl mb-6 sm:mb-8 feedback-content-appear";
Â  Â  feedbackTitleElement.classList.add("feedback-content-appear"); feedbackSourceSection.classList.add('hidden'); let feedbackStr = "";
Â  Â  if (userChoiceIsReal === null) {
Â  Â  Â  Â  feedbackTitleElement.textContent = "SÃ¼re Bitti!"; feedbackIcon.textContent = "timer_off"; feedbackIcon.classList.add('timeup-icon'); feedbackBox.classList.add('incorrect-feedback');
Â  Â  Â  Â  feedbackStr = `Bu soru iÃ§in sÃ¼reniz doldu.<br>DoÄŸru cevap: <strong>${currentQuestion.isReal ? 'GERÃ‡EK' : 'SAHTE'}</strong><br><br>${currentQuestion.explanation || ''}`;
Â  Â  } else if (wasCorrect) {
Â  Â  Â  Â  feedbackTitleElement.textContent = "Bildin!"; feedbackIcon.textContent = "check_circle"; feedbackIcon.classList.add('status-icon-correct'); feedbackBox.classList.add('correct-feedback');
Â  Â  Â  Â  feedbackStr = currentQuestion.explanation || (currentQuestion.isReal ? "Bu haber gerÃ§ekten doÄŸru." : "Bu haberin sahte olduÄŸunu doÄŸru tespit ettin.");
Â  Â  } else {
Â  Â  Â  Â  feedbackTitleElement.textContent = "Tekrar dene!"; feedbackIcon.textContent = "cancel"; feedbackIcon.classList.add('status-icon-incorrect'); feedbackBox.classList.add('incorrect-feedback');
Â  Â  Â  Â  feedbackStr = `DoÄŸru cevap <strong>${currentQuestion.isReal ? 'GERÃ‡EK' : 'SAHTE'}</strong> olmalÄ±ydÄ±.<br><br>${currentQuestion.explanation || ''}`;
Â  Â  }
Â  Â  feedbackText.innerHTML = feedbackStr;
Â  Â  if (currentQuestion.displaySourceName && currentQuestion.displaySourceLink) { feedbackSourceName.textContent = currentQuestion.displaySourceName; feedbackSourceLinkTag.href = currentQuestion.displaySourceLink; feedbackSourceSection.classList.remove('hidden'); }
Â  Â  feedbackNextButton.textContent = (currentQuestionIndex >= newsData.length - 1) ? "SonuÃ§larÄ± GÃ¶r" : "Sonraki Soru";
Â  Â  showScreen(feedbackScreen);
}

function proceedToNextStep() { if (!progressBar) return; currentQuestionIndex++; progressBar.style.width = `${(currentQuestionIndex / newsData.length) * 100}%`; if (currentQuestionIndex < newsData.length) { showScreen(gameScreenDiv); updateUIForNewQuestion(); startTimer(); } else { endGame(); }}
if(feedbackNextButton) feedbackNextButton.addEventListener('click', proceedToNextStep);
if(closeFeedbackBtn) closeFeedbackBtn.addEventListener('click', proceedToNextStep);

function startGame() {
Â  if (
Â  Â  !scoreDisplay ||
Â  Â  !totalQuestionsDisplay ||
Â  Â  !progressBar ||
Â  Â  !streakCounter ||
Â  Â  !askEditorBtn ||
Â  Â  !askEditorBtnText ||
Â  Â  !askEditorBtnIcon ||
Â  Â  !editors ||
Â  Â  editors.length === 0
Â  ) {
Â  Â  console.error("Oyun baÅŸlatma iÃ§in UI elementleri veya editÃ¶r verisi eksik");
Â  Â  return;
Â  }

Â  ensurePlayerNickname();Â 
Â  gameStartTime = Date.now();

Â  currentQuestionIndex = 0;
Â  score = 0;
Â  currentStreak = 0;
Â  editorHintUsedThisGame = false;
Â  editorWhoGaveHint = null;
Â  editorForButtonIcon = null;

Â  if (busyPopupTimeoutId) clearTimeout(busyPopupTimeoutId);
Â  if (editorBusyPopup) editorBusyPopup.style.display = 'none';

Â  scoreDisplay.textContent = score;
Â  streakCounter.textContent = currentStreak;
Â  totalQuestionsDisplay.textContent = newsData.length;
Â  progressBar.style.width = '0%';

Â  showScreen(gameScreenDiv);
Â  updateUIForNewQuestion();
Â  startTimer();
}
function populateLeaderboard() {
Â  if (!leaderboardEntriesContainer || !newsData || newsData.length === 0) return;

Â  leaderboardEntriesContainer.innerHTML = '';

Â  const botNamesAndPersonalities = [
Â  Â  { name: "Fatih Mandalina", scoreMultiplier: 0.92 },
Â  Â  { name: "Ä°smail BÃ¼yÃ¼kyaya", scoreMultiplier: 0.88 },
Â  Â  { name: "CÃ¼neyt Sazdemir", scoreMultiplier: 0.95 },
Â  Â  { name: "NevÅŸin Bambu", scoreMultiplier: 0.85 },
Â  Â  { name: "Ahmet Haktan", scoreMultiplier: 0.78 },
Â  Â  { name: "Enver Taysever", scoreMultiplier: 0.90 },
Â  Â  { name: "Ece DÃ¶ner", scoreMultiplier: 0.82 },
Â  Â  { name: "Deniz Zeybek", scoreMultiplier: 0.75 },
Â  Â  { name: "YÄ±lmaz Ã–zil", scoreMultiplier: 0.97 },
Â  Â  { name: "Fatih OrtaylÄ±", scoreMultiplier: 0.80 }
Â  ];

Â  let botEntries = botNamesAndPersonalities.map(bot => ({
Â  Â  name: bot.name,
Â  Â  score: Math.min(newsData.length, Math.max(0, Math.floor(Math.random() * (newsData.length / 1.8) + (newsData.length * bot.scoreMultiplier * 0.45)))),
Â  Â  isPlayer: false
Â  }));

Â  botEntries.sort(() => 0.5 - Math.random());

Â  const numBotsToBoost = Math.min(3, botEntries.length);
Â  for (let i = 0; i < numBotsToBoost; i++) {
Â  Â  botEntries[i].score = Math.max(botEntries[i].score, Math.floor(newsData.length * (0.65 + Math.random() * 0.3)));
Â  }

Â  const currentPlayerNickname = ensurePlayerNickname();Â 
Â  const playerScoreEntry = {
Â  Â  name: currentPlayerNickname,
Â  Â  score: (gamePlayedAtLeastOnce ? score : 0),
Â  Â  isPlayer: true
Â  };

Â  let allEntries = [...botEntries, playerScoreEntry];

Â  allEntries.sort((a, b) => {
Â  Â  if (b.score === a.score) {
Â  Â  Â  if (a.isPlayer) return -1;
Â  Â  Â  if (b.isPlayer) return 1;
Â  Â  Â  return a.name.localeCompare(b.name);
Â  Â  }
Â  Â  return b.score - a.score;
Â  });

Â  const maxEntriesToShow = 7;
Â  let displayEntries = [];

Â  if (allEntries.length <= maxEntriesToShow) {
Â  Â  displayEntries = [...allEntries];
Â  } else {
Â  Â  const playerRankGlobal = allEntries.findIndex(entry => entry.isPlayer);
Â  Â  if (playerRankGlobal < maxEntriesToShow - 1) {
Â  Â  Â  displayEntries = allEntries.slice(0, maxEntriesToShow);
Â  Â  } else {
Â  Â  Â  displayEntries = allEntries.slice(0, maxEntriesToShow - 2);
Â  Â  Â  displayEntries.push({ name: "...", score: -1, isPlayer: false, isEllipsis: true });
Â  Â  Â  if (!displayEntries.some(e => e.isPlayer && e.name === playerScoreEntry.name)) {
Â  Â  Â  Â  displayEntries.push(playerScoreEntry);
Â  Â  Â  }
Â  Â  }

Â  Â  if (
Â  Â  Â  displayEntries.some(e => e.isEllipsis) &&
Â  Â  Â  displayEntries.findIndex(e => e.isPlayer) === displayEntries.findIndex(e => e.isEllipsis) - 1
Â  Â  ) {
Â  Â  Â  displayEntries = displayEntries.filter(e => !e.isEllipsis);
Â  Â  Â  if (displayEntries.length < maxEntriesToShow && allEntries.length > maxEntriesToShow) {
Â  Â  Â  Â  const nextEntry = allEntries.find(ae => !displayEntries.some(de => de.name === ae.name && de.score === ae.score));
Â  Â  Â  Â  if (nextEntry) displayEntries.push(nextEntry);
Â  Â  Â  }
Â  Â  }
Â  }

Â  displayEntries.sort((a, b) => {
Â  Â  if (a.isEllipsis) return 1;
Â  Â  if (b.isEllipsis) return -1;
Â  Â  if (b.score === a.score) {
Â  Â  Â  if (a.isPlayer) return -1;
Â  Â  Â  if (b.isPlayer) return 1;
Â  Â  Â  return a.name.localeCompare(b.name);
Â  Â  }
Â  Â  return b.score - a.score;
Â  });

Â  if (displayEntries.length > maxEntriesToShow) {
Â  Â  const playerInDisplay = displayEntries.some(e => e.isPlayer);
Â  Â  if (playerInDisplay && displayEntries.findIndex(e => e.isPlayer) >= maxEntriesToShow - 1) {
Â  Â  Â  let tempEntries = displayEntries.slice(0, maxEntriesToShow - 1);
Â  Â  Â  if (!tempEntries.some(e => e.isPlayer)) tempEntries.push(playerScoreEntry);
Â  Â  Â  displayEntries = tempEntries;
Â  Â  Â  displayEntries.sort((a, b) => {
Â  Â  Â  Â  if (b.score === a.score) {
Â  Â  Â  Â  Â  if (a.isPlayer) return -1;
Â  Â  Â  Â  Â  if (b.isPlayer) return 1;
Â  Â  Â  Â  Â  return a.name.localeCompare(b.name);
Â  Â  Â  Â  }
Â  Â  Â  Â  return b.score - a.score;
Â  Â  Â  });
Â  Â  } else {
Â  Â  Â  displayEntries = displayEntries.slice(0, maxEntriesToShow);
Â  Â  }
Â  }

Â  displayEntries.forEach((entry) => {
Â  Â  const entryDiv = document.createElement('div');
Â  Â  entryDiv.className = 'flex items-center justify-between rounded-lg p-4 transition-all text-sm sm:text-base shadow-sm';

Â  Â  if (entry.isEllipsis) {
Â  Â  Â  entryDiv.innerHTML = `<p class="text-center w-full text-slate-500 text-xs">...</p>`;
Â  Â  Â  leaderboardEntriesContainer.appendChild(entryDiv);
Â  Â  Â  return;
Â  Â  }

Â  Â  const leftPart = document.createElement('div');
Â  Â  leftPart.className = 'flex items-center gap-3';

Â  Â  const rankDisplaySpan = document.createElement('span');
Â  Â  const actualRank = allEntries.findIndex(e => e.name === entry.name && e.score === entry.score && e.isPlayer === entry.isPlayer) + 1;
Â  Â  let rankText = `${actualRank}.`;
Â  Â  let rankIconClass = 'text-slate-600';

Â  Â  if (actualRank === 1) {
Â  Â  Â  rankText = 'ğŸ¥‡';
Â  Â  Â  rankIconClass = 'text-amber-400';
Â  Â  } else if (actualRank === 2) {
Â  Â  Â  rankText = 'ğŸ¥ˆ';
Â  Â  Â  rankIconClass = 'text-slate-400';
Â  Â  } else if (actualRank === 3) {
Â  Â  Â  rankText = 'ğŸ¥‰';
Â  Â  Â  rankIconClass = 'text-orange-400';
Â  Â  }

Â  Â  if (entry.isPlayer) {
Â  Â  Â  entryDiv.classList.add('bg-indigo-100', 'text-indigo-700', 'ring-2', 'ring-offset-2', 'ring-offset-indigo-100', 'ring-indigo-500', 'shadow-md');
Â  Â  Â  rankDisplaySpan.className = `text-xl font-semibold ${rankIconClass}`;
Â  Â  Â  rankDisplaySpan.innerHTML = `${(actualRank > 3) ? 'â˜… ' : ''}${rankText}`;
Â  Â  } else {
Â  Â  Â  entryDiv.classList.add('bg-slate-100', 'hover:bg-slate-200/80');
Â  Â  Â  rankDisplaySpan.className = `text-lg sm:text-xl font-semibold ${actualRank <= 3 ? rankIconClass : 'text-slate-600'}`;
Â  Â  Â  rankDisplaySpan.innerHTML = rankText;
Â  Â  }

Â  Â  leftPart.appendChild(rankDisplaySpan);

Â  Â  const nameP = document.createElement('p');
Â  Â  nameP.className = `font-medium ${entry.isPlayer ? 'text-indigo-800' : 'text-slate-700'}`;
Â  Â  nameP.textContent = entry.name;
Â  Â  leftPart.appendChild(nameP);

Â  Â  const scoreP = document.createElement('p');
Â  Â  scoreP.className = `font-semibold ${entry.isPlayer ? 'text-indigo-800' : 'text-slate-700'}`;
Â  Â  scoreP.textContent = `${entry.score}/${newsData.length}`;

Â  Â  entryDiv.appendChild(leftPart);
Â  Â  entryDiv.appendChild(scoreP);
Â  Â  leaderboardEntriesContainer.appendChild(entryDiv);
Â  });
}
function endGame() { if (!timeTakenValue || !finalScoreValue || !highScoreDisplay) return; gamePlayedAtLeastOnce = true; saveGamePlayedState(); clearInterval(timerInterval); if(timerSeconds) { timerSeconds.classList.remove('timer-pulse', 'text-red-500'); } if(timerSecondsBox) timerSecondsBox.classList.remove('timer-box-pulse'); const gameEndTimeVariable = Date.now(); const timeDiff = gameEndTimeVariable - (gameStartTime || gameEndTimeVariable) ; const mins = Math.floor(timeDiff / 60000); const secs = Math.floor((timeDiff % 60000) / 1000); if (timeTakenValue) timeTakenValue.textContent = `${mins} dakika ${secs} saniye`; if (finalScoreValue) finalScoreValue.textContent = `${score}/${newsData.length}`; let hs = parseInt(localStorage.getItem('fakeOrTakeHighScore_tr')) || 0; if (score > hs) { hs = score; localStorage.setItem('fakeOrTakeHighScore_tr', hs); } if (highScoreDisplay) highScoreDisplay.textContent = `${hs}/${newsData.length}`; populateLeaderboard(); showScreen(resultsScreen); }
function resetGame() { clearInterval(timerInterval); if(timerSeconds) { timerSeconds.classList.remove('timer-pulse', 'text-red-500'); } if(timerSecondsBox) timerSecondsBox.classList.remove('timer-box-pulse'); if (editorHintModal && !editorHintModal.classList.contains('hidden')) { editorHintModal.classList.add('hidden'); editorHintModal.classList.remove('flex'); } if(askEditorBtnIcon) { askEditorBtnIcon.classList.add('hidden'); askEditorBtnIcon.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"; askEditorBtnIcon.alt = ""; } if(askEditorBtnText) askEditorBtnText.innerHTML = "EditÃ¶re Sor"; editorForButtonIcon = null; editorWhoGaveHint = null; if(busyPopupTimeoutId) clearTimeout(busyPopupTimeoutId); if(editorBusyPopup) editorBusyPopup.style.display = 'none'; askEditorBtn.classList.remove('busy-state'); }
function navigateToHome() { resetGame(); showScreen(homeScreenDiv); }
function navigateToResults() { resetGame(); if (!gamePlayedAtLeastOnce) { if (finalScoreValue) finalScoreValue.textContent = "0/0"; if (timeTakenValue) timeTakenValue.textContent = "-"; let hs = parseInt(localStorage.getItem('fakeOrTakeHighScore_tr')) || 0; let totalQDisplay = newsData && newsData.length > 0 ? newsData.length : "X"; if (highScoreDisplay) highScoreDisplay.textContent = `${hs}/${totalQDisplay}`; } else { if (finalScoreValue && typeof score !== 'undefined' && newsData && newsData.length > 0) { finalScoreValue.textContent = `${score}/${newsData.length}`; } let hs = parseInt(localStorage.getItem('fakeOrTakeHighScore_tr')) || 0; if (highScoreDisplay && newsData && newsData.length > 0) { highScoreDisplay.textContent = `${hs}/${newsData.length}`; } } populateLeaderboard(); showScreen(resultsScreen); }
function unifiedSwipeStart(e) { if (!newsCard || newsCard.classList.contains('fly-out-left') || newsCard.classList.contains('fly-out-right')) return; if (animateInTimeoutId) { clearTimeout(animateInTimeoutId); animateInTimeoutId = null; } if (newsCard.classList.contains('enter-anim') || (newsCard.style.animation && newsCard.style.animation !== 'none')) { newsCard.classList.remove('enter-anim', 'active'); newsCard.style.animation = 'none'; newsCard.style.visibility = 'visible'; } newsCard.style.opacity = '1'; newsCard.style.transform = ''; isSwiping = true; isMouseSwiping = (e.type === 'mousedown'); swipeStartX = isMouseSwiping ? e.pageX : e.touches[0].pageX; newsCard.style.transition = 'none'; newsCard.classList.add('swiping'); if (isMouseSwiping) { document.addEventListener('mousemove', unifiedSwipeMove); document.addEventListener('mouseup', unifiedSwipeEnd); } }
function unifiedSwipeMove(e) { if (!isSwiping || !newsCard) return; swipeCurrentX = isMouseSwiping ? e.pageX : e.touches[0].pageX; let diffX = swipeCurrentX - swipeStartX; if (e.type === 'touchmove' && Math.abs(diffX) > 5 && e.cancelable) { e.preventDefault(); } let rotation = diffX * CARD_ROTATION_FACTOR; rotation = Math.max(-CARD_MAX_ROTATION, Math.min(CARD_MAX_ROTATION, rotation)); const newTransform = `translateX(${diffX}px) rotate(${rotation}deg)`; requestAnimationFrame(() => { if (isSwiping) { newsCard.style.transform = newTransform; } }); if (diffX > SWIPE_THRESHOLD / 1.8) { swipeRealIndicator.classList.add('visible'); swipeFakeIndicator.classList.remove('visible'); } else if (diffX < -SWIPE_THRESHOLD / 1.8) { swipeFakeIndicator.classList.add('visible'); swipeRealIndicator.classList.remove('visible'); } else { swipeRealIndicator.classList.remove('visible'); swipeFakeIndicator.classList.remove('visible'); } }
function unifiedSwipeEnd(e) { if (!isSwiping || !newsCard) return; if (isMouseSwiping) { document.removeEventListener('mousemove', unifiedSwipeMove); document.removeEventListener('mouseup', unifiedSwipeEnd); } isSwiping = false; isMouseSwiping = false; newsCard.classList.remove('swiping'); let diffX = swipeCurrentX - swipeStartX; if (Math.abs(diffX) > SWIPE_THRESHOLD) { if (diffX > 0) { swipeRealIndicator.classList.add('visible'); } else { swipeFakeIndicator.classList.add('visible'); } processSwipeDecision(diffX > 0); } else { resetCardState(false); } swipeStartX = 0; swipeCurrentX = 0; }
if (newsCard) { newsCard.addEventListener('mousedown', unifiedSwipeStart); newsCard.addEventListener('touchstart', unifiedSwipeStart, { passive: true }); newsCard.addEventListener('touchmove', unifiedSwipeMove, { passive: false }); newsCard.addEventListener('touchend', unifiedSwipeEnd); newsCard.addEventListener('touchcancel', unifiedSwipeEnd); } else { console.error("Haber kartÄ± (newsCard) DOM'da bulunamadÄ±! Swipe Ã§alÄ±ÅŸmayacak."); }
async function handleShareResults() {
Â  Â  if (!newsData || newsData.length === 0) {
Â  Â  Â  Â  alert("PaylaÅŸÄ±lacak bir sonuÃ§ bulunamadÄ±.");
Â  Â  Â  Â  return;
Â  Â  }

Â  Â  const currentScoreForShare = gamePlayedAtLeastOnce ? score : 0;
Â  Â  const currentPlayerNicknameForShare = ensurePlayerNickname() || "Bir Oyuncu";

Â  Â  const shareText = `${currentPlayerNicknameForShare}, FakeBreak'de ${currentScoreForShare}/${newsData.length} yaptÄ±! Sen de bu haberlerin gerÃ§ek mi sahte mi olduÄŸunu tahmin etmeye Ã§alÄ±ÅŸ. Challenge'a var mÄ±sÄ±n? ğŸ˜`;
Â  Â  const shareUrl = window.location.href;
Â  Â  const shareTitle = "FakeBreak - Skor YarÄ±ÅŸmasÄ±!";

Â  Â  if (navigator.share) {
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  await navigator.share({
Â  Â  Â  Â  Â  Â  Â  Â  title: shareTitle,
Â  Â  Â  Â  Â  Â  Â  Â  text: shareText,
Â  Â  Â  Â  Â  Â  Â  Â  url: shareUrl
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  console.error("PaylaÅŸÄ±m iptal edildi veya baÅŸarÄ±sÄ±z oldu:", err);
Â  Â  Â  Â  }
Â  Â  } else {
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  await navigator.clipboard.writeText(`${shareText} ${shareUrl}`);
Â  Â  Â  Â  Â  Â  alert("SonuÃ§ panoya kopyalandÄ±. PaylaÅŸmak iÃ§in yapÄ±ÅŸtÄ±rabilirsiniz!");
Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  console.error("Panoya kopyalanamadÄ±:", err);
Â  Â  Â  Â  Â  Â  alert("PaylaÅŸÄ±m desteklenmiyor. Manuel olarak kopyalayabilirsiniz.");
Â  Â  Â  Â  }
Â  Â  }
}
if (howToPlayButton && modal && closeModalButton) { const openHowToPlayModal = () => { if (modal) { modal.classList.remove('hidden'); modal.classList.add('flex'); } }; const closeHowToPlayModal = () => { if (modal) { modal.classList.add('hidden'); modal.classList.remove('flex'); } }; howToPlayButton.addEventListener('click', openHowToPlayModal); closeModalButton.addEventListener('click', closeHowToPlayModal); modal.addEventListener('click', (event) => { if (event.target === modal) { closeHowToPlayModal(); } }); } else { console.error("Modal ('NasÄ±l OynanÄ±r') elementleri bulunamadÄ±."); }
if (aboutBtn && aboutModal && closeAboutModalBtn) { const openAboutModal = () => { if (aboutModal) { aboutModal.classList.remove('hidden'); aboutModal.classList.add('flex'); } }; const closeAboutModal = () => { if (aboutModal) { aboutModal.classList.add('hidden'); aboutModal.classList.remove('flex'); } }; aboutBtn.addEventListener('click', openAboutModal); closeAboutModalBtn.addEventListener('click', closeAboutModal); aboutModal.addEventListener('click', (event) => { if (event.target === aboutModal) { closeAboutModal(); } }); } else { console.error("HakkÄ±nda Modal elementleri bulunamadÄ±."); }
if (homeNavProfile && profileDisabledPopup) { homeNavProfile.addEventListener('click', (e) => { e.preventDefault(); if (profilePopupTimeoutId) { clearTimeout(profilePopupTimeoutId); } profileDisabledPopup.classList.remove('opacity-0', 'pointer-events-none'); profileDisabledPopup.classList.add('opacity-100'); profilePopupTimeoutId = setTimeout(() => { profileDisabledPopup.classList.remove('opacity-100'); profileDisabledPopup.classList.add('opacity-0'); setTimeout(() => { if (!profileDisabledPopup.classList.contains('opacity-100')) { profileDisabledPopup.classList.add('pointer-events-none'); } }, 300); profilePopupTimeoutId = null; }, 2500); }); }

function showEditorHint() {
    // Modified to match second snippet's logic
Â  Â  if (editorHintUsedThisGame || currentQuestionIndex >= newsData.length) return;

Â  Â  askEditorBtn.classList.remove('ask-editor-inviting');
Â  Â  clearInterval(timerInterval);

Â  Â  const currentQuestionData = newsData[currentQuestionIndex];
Â  Â  const designatedEditorName = currentQuestionData.hintEditorName;
Â  Â  const specificHintText = currentQuestionData.hintSpecificText;
Â  Â  const editorForModalDisplay = editors.find(e => e.name === designatedEditorName);

Â  Â  if (!editorForModalDisplay) {
Â  Â  Â  Â  console.error("Ä°pucu iÃ§in modalda gÃ¶sterilecek editÃ¶r bulunamadÄ±:", designatedEditorName);
Â  Â  Â  Â  if (timeLeft > 0) startTimer(true);Â 
Â  Â  Â  Â  return;
Â  Â  }

Â  Â  editorWhoGaveHint = editorForModalDisplay; // Store who gave the hint

Â  Â  if(editorIcon) {
Â  Â  Â  Â  editorIcon.src = editorForModalDisplay.icon || "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";
Â  Â  Â  Â  editorIcon.alt = editorForModalDisplay.name + " ikonu";
Â  Â  }
Â  Â  if(editorName) editorName.textContent = editorForModalDisplay.name;
Â  Â  if(editorQuote) editorQuote.innerHTML = specificHintText;

Â  Â  if(editorQuote) {
Â  Â  Â  Â  editorQuote.classList.remove('editor-quote-appear');Â 
Â  Â  Â  Â  void editorQuote.offsetWidth;Â 
Â  Â  Â  Â  editorQuote.classList.add('editor-quote-appear');
Â  Â  }

Â  Â  editorHintModal.classList.remove('hidden');
Â  Â  editorHintModal.classList.add('flex');
Â  Â Â 
Â  Â  editorHintUsedThisGame = true;Â 

    // --- Start: Immediately update button to busy state (as per second snippet) ---
    askEditorBtn.classList.add('disabled', 'busy-state');
    askEditorBtn.disabled = true;
    if (editorWhoGaveHint && editorWhoGaveHint.icon) {
        askEditorBtnIcon.src = editorWhoGaveHint.icon;
        askEditorBtnIcon.alt = editorWhoGaveHint.name;
        askEditorBtnIcon.classList.remove('hidden');
    } else {
        askEditorBtnIcon.classList.add('hidden');
    }

    askEditorBtnText.innerHTML = `
    <span style="display: inline-flex; align-items: center; gap: 4px;">
    Â  <span>EditÃ¶r meÅŸgul</span>
    Â  <span class="editor-busy-qmark-wrapper" style="position: relative;">
    Â  Â  <span id="editorBusyHintIconModal" class="material-symbols-outlined editor-busy-qmark">help_outline</span>
    Â  Â  <div id="editorBusyPopupModal" style="display:none; position: absolute; top: calc(100% - 0px); left: 50%; transform: translateX(-50%); background-color: #1F2937; color: #F9FAFB; padding: 0.3rem 0.5rem; border-radius: 0.5rem; font-size: 0.65rem; white-space: nowrap; box-shadow: 0 4px 10px rgba(0,0,0,0.2); z-index: 200; font-family: 'Noto Sans', sans-serif;">EditÃ¶r meÅŸgul: Sebep burada!</div>
    Â  </span>
    </span>`; // Note: IDs for popup and icon inside this immediate update might need to be unique if they conflict, or managed carefully.
               // For simplicity, using new IDs here (editorBusyHintIconModal, editorBusyPopupModal) or reusing existing if context allows.
               // The original `updateUIForNewQuestion` sets up its own listeners, so this immediate update is primarily visual.
               // Let's try to reuse the existing popup and listener setup, but ensure it's correctly targeted.
               // For robustness, the logic from `updateUIForNewQuestion`'s busy state should be callable or duplicated.
               // For now, this sets the visual and the next call to updateUIForNewQuestion will formalize it.

    // More robust way to set busy state immediately, reusing logic if possible, or ensuring next updateUI call handles it
    // The primary effect is `editorHintUsedThisGame = true;` which `updateUIForNewQuestion` will pick up.
    // The visual change here is to make it immediate.

    const editorBusyHintIconElement = document.getElementById('editorBusyHintIconModal') || document.getElementById('editorBusyHintIcon'); // Try to get the dynamic one if exists
    const busyPopupElement = document.getElementById('editorBusyPopupModal') || editorBusyPopup;

    if (editorBusyHintIconElement && busyPopupElement && editorWhoGaveHint) {
        if (currentBusyIconClickListener) editorBusyHintIconElement.removeEventListener('click', currentBusyIconClickListener);
             currentBusyIconClickListener = (event) => {
                event.stopPropagation();
                if (busyPopupTimeoutId) clearTimeout(busyPopupTimeoutId);
                const reason = editorBusyReasons[editorWhoGaveHint.name] || "Bir ÅŸeylerle uÄŸraÅŸÄ±yor!";
                busyPopupElement.textContent = `${editorWhoGaveHint.name}: ${reason}`;
                busyPopupElement.style.display = 'block';
                // Adjust popup position if it's the one inside the button text
                if (busyPopupElement.id === "editorBusyPopupModal" || busyPopupElement.id === "editorBusyPopup") {
                     // editorBusyPopup is already positioned by CSS relative to askEditorBtn
                     // if editorBusyPopupModal is used, ensure its parent (editor-busy-qmark-wrapper) allows correct positioning.
                }
                busyPopupTimeoutId = setTimeout(() => { busyPopupElement.style.display = 'none'; }, 2500);
            };
        editorBusyHintIconElement.addEventListener('click', currentBusyIconClickListener);
    }
    askEditorBtn.onclick = null;
    // --- End: Immediately update button to busy state ---
}


if (closeEditorHintBtn) {
Â  Â  closeEditorHintBtn.addEventListener('click', () => {
Â  Â  Â  Â  editorHintModal.classList.add('hidden'); editorHintModal.classList.remove('flex');
Â  Â  Â  Â  if(editorQuote) editorQuote.classList.remove('editor-quote-appear');
Â  Â  Â  Â  if (timeLeft > 0) {Â 
Â  Â  Â  Â  Â  Â  startTimer(true); // Continue timer
Â  Â  Â  Â  }
        // updateUIForNewQuestion(); // No longer needed here as per second snippet logic
Â  Â  });
}
if (editorHintModal) {
Â  Â  editorHintModal.addEventListener('click', (event) => {
Â  Â  Â  Â  if (event.target === editorHintModal) {
Â  Â  Â  Â  Â  Â  editorHintModal.classList.add('hidden'); editorHintModal.classList.remove('flex');
Â  Â  Â  Â  Â  Â  if(editorQuote) editorQuote.classList.remove('editor-quote-appear');
Â  Â  Â  Â  Â  Â  if (timeLeft > 0) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  startTimer(true); // Continue timer
Â  Â  Â  Â  Â  Â  }
            // updateUIForNewQuestion(); // No longer needed here
Â  Â  Â  Â  }
Â  Â  });
}

if (playNowButton) { playNowButton.addEventListener('click', startGame); }
if (closeGameButton) { closeGameButton.addEventListener('click', navigateToHome); }
if(shareResultsBtn) shareResultsBtn.addEventListener('click', handleShareResults);
if(playAgainBtn) playAgainBtn.addEventListener('click', startGame);
if(backToHomeResultsBtn) backToHomeResultsBtn.addEventListener('click', navigateToHome);
if(closeResultsHeaderBtn) closeResultsHeaderBtn.addEventListener('click', navigateToHome);
[homeNavHome, gameNavHome].forEach(el => el?.addEventListener('click', (e) => { e.preventDefault(); navigateToHome(); }));
[homeNavScores, gameNavScores, leaderboardBtnHome].forEach(el => el?.addEventListener('click', (e) => { e.preventDefault(); navigateToResults(); }));
if (!gamePlayedAtLeastOnce) { if (finalScoreValue) finalScoreValue.textContent = "0/0"; if (timeTakenValue) timeTakenValue.textContent = "-"; let hs = parseInt(localStorage.getItem('fakeOrTakeHighScore_tr')) || 0; let totalQDisplay = newsData && newsData.length > 0 ? newsData.length : "X"; if (highScoreDisplay) highScoreDisplay.textContent = `${hs}/${totalQDisplay}`; }
showScreen(homeScreenDiv);
if(document.body) document.body.classList.remove('loading');
if (newsData && newsData.length > 0) startPreloadingNewsImages();
});
</script>
</body>
</html>
